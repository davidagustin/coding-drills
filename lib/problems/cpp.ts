import type { Problem } from '../types';

/**
 * C++ coding drill problems
 * Covers: Vector Operations, Algorithm Header, String Operations, Map/Set
 */

export const cppProblems: Problem[] = [
  // ============================================================
  // Vector Operations (STL)
  // ============================================================
  {
    id: 'cpp-vector-push-back-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Add Element with push_back()',
    text: 'Add the value 42 to the end of the vector using push_back()',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: '{1, 2, 3, 42}',
    sample: 'nums.push_back(42);',
    hints: ['push_back() adds an element to the end of the vector'],
    tags: ['vector', 'push_back', 'stl'],
  },
  {
    id: 'cpp-vector-pop-back-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Remove Last Element with pop_back()',
    text: 'Remove the last element from the vector using pop_back()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4};',
    expected: '{1, 2, 3}',
    sample: 'nums.pop_back();',
    hints: ['pop_back() removes the last element from the vector'],
    tags: ['vector', 'pop_back', 'stl'],
  },
  {
    id: 'cpp-vector-size-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Get Vector Size',
    text: 'Get the number of elements in the vector using size()',
    setup: 'std::vector<int> nums = {10, 20, 30, 40, 50};',
    setupCode: 'std::vector<int> nums = {10, 20, 30, 40, 50};',
    expected: '5',
    sample: 'nums.size()',
    hints: ['size() returns the number of elements in the vector'],
    tags: ['vector', 'size', 'stl'],
  },
  {
    id: 'cpp-vector-empty-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Check if Vector is Empty',
    text: 'Check if the vector is empty using empty()',
    setup: 'std::vector<int> nums = {};',
    setupCode: 'std::vector<int> nums = {};',
    expected: 'true',
    sample: 'nums.empty()',
    hints: ['empty() returns true if the vector has no elements'],
    tags: ['vector', 'empty', 'stl'],
  },
  {
    id: 'cpp-vector-front-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Get First Element with front()',
    text: 'Get the first element of the vector using front()',
    setup: 'std::vector<int> nums = {100, 200, 300};',
    setupCode: 'std::vector<int> nums = {100, 200, 300};',
    expected: '100',
    sample: 'nums.front()',
    hints: ['front() returns a reference to the first element'],
    tags: ['vector', 'front', 'stl'],
  },
  {
    id: 'cpp-vector-back-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Get Last Element with back()',
    text: 'Get the last element of the vector using back()',
    setup: 'std::vector<int> nums = {100, 200, 300};',
    setupCode: 'std::vector<int> nums = {100, 200, 300};',
    expected: '300',
    sample: 'nums.back()',
    hints: ['back() returns a reference to the last element'],
    tags: ['vector', 'back', 'stl'],
  },
  {
    id: 'cpp-vector-at-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Access Element with at()',
    text: 'Get the element at index 2 using the at() method',
    setup: 'std::vector<int> nums = {10, 20, 30, 40};',
    setupCode: 'std::vector<int> nums = {10, 20, 30, 40};',
    expected: '30',
    sample: 'nums.at(2)',
    hints: ['at() provides bounds-checked access to elements'],
    tags: ['vector', 'at', 'stl'],
  },
  {
    id: 'cpp-vector-subscript-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Access Element with operator[]',
    text: 'Get the element at index 1 using the subscript operator',
    setup: 'std::vector<std::string> words = {"hello", "world", "cpp"};',
    setupCode: 'std::vector<std::string> words = {"hello", "world", "cpp"};',
    expected: '"world"',
    sample: 'words[1]',
    hints: ['operator[] provides fast, unchecked access to elements'],
    tags: ['vector', 'operator[]', 'stl'],
  },
  {
    id: 'cpp-vector-begin-end-1',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Use begin() and end() with Algorithm',
    text: 'Fill the vector with the value 7 using std::fill with begin() and end()',
    setup: 'std::vector<int> nums(5);',
    setupCode: 'std::vector<int> nums(5);',
    expected: '{7, 7, 7, 7, 7}',
    sample: 'std::fill(nums.begin(), nums.end(), 7);',
    hints: [
      'begin() returns an iterator to the first element',
      'end() returns an iterator past the last element',
    ],
    tags: ['vector', 'begin', 'end', 'iterators', 'stl'],
  },
  {
    id: 'cpp-vector-clear-1',
    category: 'Vector Methods',
    difficulty: 'easy',
    title: 'Clear All Elements',
    text: 'Remove all elements from the vector using clear()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{}',
    sample: 'nums.clear();',
    hints: ['clear() removes all elements, making size() return 0'],
    tags: ['vector', 'clear', 'stl'],
  },
  {
    id: 'cpp-vector-insert-1',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Insert Element at Position',
    text: 'Insert the value 99 at index 2 using insert()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4};',
    expected: '{1, 2, 99, 3, 4}',
    sample: 'nums.insert(nums.begin() + 2, 99);',
    hints: ['insert() takes an iterator position and a value'],
    tags: ['vector', 'insert', 'stl'],
  },
  {
    id: 'cpp-vector-erase-1',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Erase Element at Position',
    text: 'Erase the element at index 1 using erase()',
    setup: 'std::vector<int> nums = {10, 20, 30, 40};',
    setupCode: 'std::vector<int> nums = {10, 20, 30, 40};',
    expected: '{10, 30, 40}',
    sample: 'nums.erase(nums.begin() + 1);',
    hints: ['erase() takes an iterator position and removes that element'],
    tags: ['vector', 'erase', 'stl'],
  },

  // ============================================================
  // Algorithm Header
  // ============================================================
  {
    id: 'cpp-algo-sort-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Sort Vector in Ascending Order',
    text: 'Sort the vector in ascending order using std::sort()',
    setup: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    setupCode: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    expected: '{1, 2, 5, 8, 9}',
    sample: 'std::sort(nums.begin(), nums.end());',
    hints: ['std::sort() sorts elements in ascending order by default'],
    tags: ['algorithm', 'sort', 'stl'],
  },
  {
    id: 'cpp-algo-sort-desc-1',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Sort Vector in Descending Order',
    text: 'Sort the vector in descending order using std::sort() with std::greater<int>()',
    setup: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    setupCode: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    expected: '{9, 8, 5, 2, 1}',
    sample: 'std::sort(nums.begin(), nums.end(), std::greater<int>());',
    hints: ['Use std::greater<int>() as the third argument for descending order'],
    tags: ['algorithm', 'sort', 'stl'],
  },
  {
    id: 'cpp-algo-reverse-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Reverse Vector Elements',
    text: 'Reverse the order of elements in the vector using std::reverse()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{5, 4, 3, 2, 1}',
    sample: 'std::reverse(nums.begin(), nums.end());',
    hints: ['std::reverse() reverses the order of elements in-place'],
    tags: ['algorithm', 'reverse', 'stl'],
  },
  {
    id: 'cpp-algo-find-1',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Find Element in Vector',
    text: 'Find the value 30 in the vector and return an iterator to it using std::find()',
    setup: 'std::vector<int> nums = {10, 20, 30, 40, 50};',
    setupCode: 'std::vector<int> nums = {10, 20, 30, 40, 50};',
    expected: 'iterator to 30',
    sample: 'auto it = std::find(nums.begin(), nums.end(), 30);',
    hints: ['std::find() returns an iterator to the first matching element or end() if not found'],
    tags: ['algorithm', 'find', 'stl'],
  },
  {
    id: 'cpp-algo-count-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Count Occurrences of Value',
    text: 'Count how many times the value 3 appears in the vector using std::count()',
    setup: 'std::vector<int> nums = {1, 3, 3, 4, 3, 5, 3};',
    setupCode: 'std::vector<int> nums = {1, 3, 3, 4, 3, 5, 3};',
    expected: '4',
    sample: 'std::count(nums.begin(), nums.end(), 3)',
    hints: ['std::count() returns the number of elements equal to the given value'],
    tags: ['algorithm', 'count', 'stl'],
  },
  {
    id: 'cpp-algo-accumulate-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Sum All Elements with accumulate()',
    text: 'Calculate the sum of all elements using std::accumulate() (from <numeric>)',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '15',
    sample: 'std::accumulate(nums.begin(), nums.end(), 0)',
    hints: [
      'std::accumulate() is in the <numeric> header',
      'The third argument is the initial value',
    ],
    tags: ['algorithm', 'accumulate', 'numeric', 'stl'],
  },
  {
    id: 'cpp-algo-transform-1',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Transform Elements with Lambda',
    text: 'Double each element in the vector using std::transform()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{2, 4, 6, 8, 10}',
    sample: 'std::transform(nums.begin(), nums.end(), nums.begin(), [](int x) { return x * 2; });',
    hints: [
      'std::transform() applies a function to each element',
      'Use a lambda for the transformation',
    ],
    tags: ['algorithm', 'transform', 'lambda', 'stl'],
  },
  {
    id: 'cpp-algo-copy-if-1',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Copy Elements Matching Condition',
    text: 'Copy only even numbers to a new vector using std::copy_if()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};\nstd::vector<int> evens;',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};\nstd::vector<int> evens;',
    expected: 'evens = {2, 4, 6}',
    sample:
      'std::copy_if(nums.begin(), nums.end(), std::back_inserter(evens), [](int x) { return x % 2 == 0; });',
    hints: [
      'std::copy_if() copies elements where the predicate returns true',
      'Use std::back_inserter() to append to the destination',
    ],
    tags: ['algorithm', 'copy_if', 'stl'],
  },
  {
    id: 'cpp-algo-remove-if-1',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Remove Elements Matching Condition',
    text: 'Remove all odd numbers from the vector using std::remove_if() and erase()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: '{2, 4, 6}',
    sample:
      'nums.erase(std::remove_if(nums.begin(), nums.end(), [](int x) { return x % 2 != 0; }), nums.end());',
    hints: [
      'std::remove_if() moves non-matching elements to the front',
      'Combine with erase() to actually remove elements (erase-remove idiom)',
    ],
    tags: ['algorithm', 'remove_if', 'erase', 'stl'],
  },
  {
    id: 'cpp-algo-any-of-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Check if Any Element Matches',
    text: 'Check if any element is greater than 10 using std::any_of()',
    setup: 'std::vector<int> nums = {5, 8, 12, 3, 7};',
    setupCode: 'std::vector<int> nums = {5, 8, 12, 3, 7};',
    expected: 'true',
    sample: 'std::any_of(nums.begin(), nums.end(), [](int x) { return x > 10; })',
    hints: ['std::any_of() returns true if any element satisfies the predicate'],
    tags: ['algorithm', 'any_of', 'stl'],
  },
  {
    id: 'cpp-algo-all-of-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Check if All Elements Match',
    text: 'Check if all elements are positive using std::all_of()',
    setup: 'std::vector<int> nums = {1, 5, 3, 8, 2};',
    setupCode: 'std::vector<int> nums = {1, 5, 3, 8, 2};',
    expected: 'true',
    sample: 'std::all_of(nums.begin(), nums.end(), [](int x) { return x > 0; })',
    hints: ['std::all_of() returns true if all elements satisfy the predicate'],
    tags: ['algorithm', 'all_of', 'stl'],
  },
  {
    id: 'cpp-algo-none-of-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Check if No Elements Match',
    text: 'Check if no elements are negative using std::none_of()',
    setup: 'std::vector<int> nums = {1, 5, 3, 8, 2};',
    setupCode: 'std::vector<int> nums = {1, 5, 3, 8, 2};',
    expected: 'true',
    sample: 'std::none_of(nums.begin(), nums.end(), [](int x) { return x < 0; })',
    hints: ['std::none_of() returns true if no elements satisfy the predicate'],
    tags: ['algorithm', 'none_of', 'stl'],
  },
  {
    id: 'cpp-algo-max-element-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Find Maximum Element',
    text: 'Find the maximum element in the vector using std::max_element()',
    setup: 'std::vector<int> nums = {3, 7, 2, 9, 4};',
    setupCode: 'std::vector<int> nums = {3, 7, 2, 9, 4};',
    expected: '9',
    sample: '*std::max_element(nums.begin(), nums.end())',
    hints: [
      'std::max_element() returns an iterator to the largest element',
      'Dereference the iterator to get the value',
    ],
    tags: ['algorithm', 'max_element', 'stl'],
  },
  {
    id: 'cpp-algo-min-element-1',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Find Minimum Element',
    text: 'Find the minimum element in the vector using std::min_element()',
    setup: 'std::vector<int> nums = {3, 7, 2, 9, 4};',
    setupCode: 'std::vector<int> nums = {3, 7, 2, 9, 4};',
    expected: '2',
    sample: '*std::min_element(nums.begin(), nums.end())',
    hints: [
      'std::min_element() returns an iterator to the smallest element',
      'Dereference the iterator to get the value',
    ],
    tags: ['algorithm', 'min_element', 'stl'],
  },

  // ============================================================
  // String Operations
  // ============================================================
  {
    id: 'cpp-string-length-1',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Get String Length',
    text: 'Get the length of the string using length()',
    setup: 'std::string str = "Hello, World!";',
    setupCode: 'std::string str = "Hello, World!";',
    expected: '13',
    sample: 'str.length()',
    hints: ['length() and size() both return the number of characters'],
    tags: ['string', 'length', 'stl'],
  },
  {
    id: 'cpp-string-size-1',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Get String Size',
    text: 'Get the size of the string using size()',
    setup: 'std::string str = "C++ Programming";',
    setupCode: 'std::string str = "C++ Programming";',
    expected: '15',
    sample: 'str.size()',
    hints: ['size() is equivalent to length() for strings'],
    tags: ['string', 'size', 'stl'],
  },
  {
    id: 'cpp-string-substr-1',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Extract Substring',
    text: 'Extract the substring "World" from the string using substr()',
    setup: 'std::string str = "Hello, World!";',
    setupCode: 'std::string str = "Hello, World!";',
    expected: '"World"',
    sample: 'str.substr(7, 5)',
    hints: ['substr(pos, len) extracts len characters starting from pos'],
    tags: ['string', 'substr', 'stl'],
  },
  {
    id: 'cpp-string-find-1',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Find Substring Position',
    text: 'Find the position of "World" in the string using find()',
    setup: 'std::string str = "Hello, World!";',
    setupCode: 'std::string str = "Hello, World!";',
    expected: '7',
    sample: 'str.find("World")',
    hints: [
      'find() returns the position of the first occurrence or std::string::npos if not found',
    ],
    tags: ['string', 'find', 'stl'],
  },
  {
    id: 'cpp-string-rfind-1',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Find Last Occurrence',
    text: "Find the position of the last 'o' in the string using rfind()",
    setup: 'std::string str = "Hello, World!";',
    setupCode: 'std::string str = "Hello, World!";',
    expected: '8',
    sample: "str.rfind('o')",
    hints: ['rfind() searches from the end of the string'],
    tags: ['string', 'rfind', 'stl'],
  },
  {
    id: 'cpp-string-append-1',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Append String',
    text: 'Append " World!" to the string using append()',
    setup: 'std::string str = "Hello";',
    setupCode: 'std::string str = "Hello";',
    expected: '"Hello World!"',
    sample: 'str.append(" World!");',
    hints: ['append() adds characters to the end of the string'],
    tags: ['string', 'append', 'stl'],
  },
  {
    id: 'cpp-string-concat-1',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Concatenate with += Operator',
    text: 'Append " C++" to the string using the += operator',
    setup: 'std::string str = "Hello";',
    setupCode: 'std::string str = "Hello";',
    expected: '"Hello C++"',
    sample: 'str += " C++";',
    hints: ['The += operator is a convenient way to append strings'],
    tags: ['string', 'operator+=', 'stl'],
  },
  {
    id: 'cpp-string-c-str-1',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Get C-Style String',
    text: 'Get a C-style character array pointer using c_str()',
    setup: 'std::string str = "Hello";',
    setupCode: 'std::string str = "Hello";',
    expected: 'const char* pointing to "Hello"',
    sample: 'const char* cstr = str.c_str();',
    hints: ['c_str() returns a null-terminated character array'],
    tags: ['string', 'c_str', 'stl'],
  },
  {
    id: 'cpp-string-compare-1',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Compare Strings',
    text: 'Compare str1 with str2 using compare(). Return value: 0 if equal, < 0 if str1 < str2, > 0 if str1 > str2',
    setup: 'std::string str1 = "apple";\nstd::string str2 = "banana";',
    setupCode: 'std::string str1 = "apple";\nstd::string str2 = "banana";',
    expected: 'negative value (str1 < str2)',
    sample: 'str1.compare(str2)',
    hints: ['compare() returns 0 for equal strings, negative if less, positive if greater'],
    tags: ['string', 'compare', 'stl'],
  },

  // ============================================================
  // Map Operations
  // ============================================================
  {
    id: 'cpp-map-insert-1',
    category: 'Map Methods',
    difficulty: 'medium',
    title: 'Insert into Map',
    text: 'Insert a key-value pair ("apple", 5) into the map using insert()',
    setup: 'std::map<std::string, int> fruits;',
    setupCode: 'std::map<std::string, int> fruits;',
    expected: 'fruits["apple"] = 5',
    sample: 'fruits.insert({"apple", 5});',
    hints: [
      'insert() takes a std::pair or initializer list',
      'Alternative: fruits.insert(std::make_pair("apple", 5));',
    ],
    tags: ['map', 'insert', 'stl'],
  },
  {
    id: 'cpp-map-subscript-1',
    category: 'Map Methods',
    difficulty: 'easy',
    title: 'Insert/Access with operator[]',
    text: 'Insert or update the key "banana" with value 3 using operator[]',
    setup: 'std::map<std::string, int> fruits = {{"apple", 5}};',
    setupCode: 'std::map<std::string, int> fruits = {{"apple", 5}};',
    expected: 'fruits["banana"] = 3',
    sample: 'fruits["banana"] = 3;',
    hints: ['operator[] inserts a new element if the key does not exist'],
    tags: ['map', 'operator[]', 'stl'],
  },
  {
    id: 'cpp-map-erase-1',
    category: 'Map Methods',
    difficulty: 'easy',
    title: 'Erase Map Element',
    text: 'Remove the element with key "apple" from the map using erase()',
    setup: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    setupCode: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    expected: 'fruits = {{"banana", 3}}',
    sample: 'fruits.erase("apple");',
    hints: ['erase() can take a key directly or an iterator'],
    tags: ['map', 'erase', 'stl'],
  },
  {
    id: 'cpp-map-find-1',
    category: 'Map Methods',
    difficulty: 'medium',
    title: 'Find Element in Map',
    text: 'Find the element with key "apple" and return an iterator using find()',
    setup: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    setupCode: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    expected: 'iterator to {"apple", 5}',
    sample: 'auto it = fruits.find("apple");',
    hints: ['find() returns end() if the key is not found', 'Access value with it->second'],
    tags: ['map', 'find', 'stl'],
  },
  {
    id: 'cpp-map-count-1',
    category: 'Map Methods',
    difficulty: 'easy',
    title: 'Check if Key Exists',
    text: 'Check if the key "apple" exists using count()',
    setup: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    setupCode: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}};',
    expected: '1 (key exists)',
    sample: 'fruits.count("apple")',
    hints: [
      'count() returns 1 if key exists, 0 if not (for std::map)',
      'For multimap, it can return values > 1',
    ],
    tags: ['map', 'count', 'stl'],
  },
  {
    id: 'cpp-map-size-1',
    category: 'Map Methods',
    difficulty: 'easy',
    title: 'Get Map Size',
    text: 'Get the number of key-value pairs in the map using size()',
    setup: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}, {"orange", 7}};',
    setupCode: 'std::map<std::string, int> fruits = {{"apple", 5}, {"banana", 3}, {"orange", 7}};',
    expected: '3',
    sample: 'fruits.size()',
    hints: ['size() returns the number of elements in the map'],
    tags: ['map', 'size', 'stl'],
  },

  // ============================================================
  // Set Operations
  // ============================================================
  {
    id: 'cpp-set-insert-1',
    category: 'Set Methods',
    difficulty: 'easy',
    title: 'Insert into Set',
    text: 'Insert the value 42 into the set using insert()',
    setup: 'std::set<int> numbers = {1, 2, 3};',
    setupCode: 'std::set<int> numbers = {1, 2, 3};',
    expected: '{1, 2, 3, 42}',
    sample: 'numbers.insert(42);',
    hints: ['insert() adds an element if it does not already exist'],
    tags: ['set', 'insert', 'stl'],
  },
  {
    id: 'cpp-set-erase-1',
    category: 'Set Methods',
    difficulty: 'easy',
    title: 'Erase from Set',
    text: 'Remove the value 2 from the set using erase()',
    setup: 'std::set<int> numbers = {1, 2, 3, 4};',
    setupCode: 'std::set<int> numbers = {1, 2, 3, 4};',
    expected: '{1, 3, 4}',
    sample: 'numbers.erase(2);',
    hints: ['erase() removes the element with the given value'],
    tags: ['set', 'erase', 'stl'],
  },
  {
    id: 'cpp-set-find-1',
    category: 'Set Methods',
    difficulty: 'medium',
    title: 'Find Element in Set',
    text: 'Find the value 3 in the set and return an iterator using find()',
    setup: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    setupCode: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    expected: 'iterator to 3',
    sample: 'auto it = numbers.find(3);',
    hints: ['find() returns end() if the element is not found'],
    tags: ['set', 'find', 'stl'],
  },
  {
    id: 'cpp-set-count-1',
    category: 'Set Methods',
    difficulty: 'easy',
    title: 'Check if Element Exists in Set',
    text: 'Check if the value 3 exists in the set using count()',
    setup: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    setupCode: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    expected: '1 (element exists)',
    sample: 'numbers.count(3)',
    hints: ['count() returns 1 if element exists, 0 if not (for std::set)'],
    tags: ['set', 'count', 'stl'],
  },
  {
    id: 'cpp-set-size-1',
    category: 'Set Methods',
    difficulty: 'easy',
    title: 'Get Set Size',
    text: 'Get the number of elements in the set using size()',
    setup: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    setupCode: 'std::set<int> numbers = {1, 2, 3, 4, 5};',
    expected: '5',
    sample: 'numbers.size()',
    hints: ['size() returns the number of unique elements in the set'],
    tags: ['set', 'size', 'stl'],
  },

  // ============================================================
  // STL Containers - Additional (vector, list, deque, array, forward_list)
  // ============================================================
  {
    id: 'cpp-deque-100',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Create and Push to Deque Front',
    text: 'Add the value 10 to the front of the deque using push_front()',
    setup: 'std::deque<int> dq = {1, 2, 3};',
    setupCode: 'std::deque<int> dq = {1, 2, 3};',
    expected: '{10, 1, 2, 3}',
    sample: 'dq.push_front(10);',
    hints: ['push_front() adds an element to the front of the deque'],
    tags: ['deque', 'push_front', 'stl'],
  },
  {
    id: 'cpp-deque-101',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Pop from Deque Front',
    text: 'Remove the first element from the deque using pop_front()',
    setup: 'std::deque<int> dq = {1, 2, 3, 4};',
    setupCode: 'std::deque<int> dq = {1, 2, 3, 4};',
    expected: '{2, 3, 4}',
    sample: 'dq.pop_front();',
    hints: ['pop_front() removes the first element from the deque'],
    tags: ['deque', 'pop_front', 'stl'],
  },
  {
    id: 'cpp-deque-102',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Insert into Deque at Position',
    text: 'Insert the value 99 at index 2 of the deque',
    setup: 'std::deque<int> dq = {1, 2, 3, 4};',
    setupCode: 'std::deque<int> dq = {1, 2, 3, 4};',
    expected: '{1, 2, 99, 3, 4}',
    sample: 'dq.insert(dq.begin() + 2, 99);',
    hints: ['insert() takes an iterator and a value'],
    tags: ['deque', 'insert', 'stl'],
  },
  {
    id: 'cpp-list-103',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Create and Push to List Back',
    text: 'Add the value 5 to the back of the list using push_back()',
    setup: 'std::list<int> lst = {1, 2, 3, 4};',
    setupCode: 'std::list<int> lst = {1, 2, 3, 4};',
    expected: '{1, 2, 3, 4, 5}',
    sample: 'lst.push_back(5);',
    hints: ['push_back() adds an element to the end of the list'],
    tags: ['list', 'push_back', 'stl'],
  },
  {
    id: 'cpp-list-104',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Push to List Front',
    text: 'Add the value 0 to the front of the list using push_front()',
    setup: 'std::list<int> lst = {1, 2, 3};',
    setupCode: 'std::list<int> lst = {1, 2, 3};',
    expected: '{0, 1, 2, 3}',
    sample: 'lst.push_front(0);',
    hints: ['push_front() adds an element to the beginning of the list'],
    tags: ['list', 'push_front', 'stl'],
  },
  {
    id: 'cpp-list-105',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Remove All Occurrences from List',
    text: 'Remove all occurrences of value 3 from the list using remove()',
    setup: 'std::list<int> lst = {1, 3, 2, 3, 4, 3};',
    setupCode: 'std::list<int> lst = {1, 3, 2, 3, 4, 3};',
    expected: '{1, 2, 4}',
    sample: 'lst.remove(3);',
    hints: ['remove() removes all elements equal to the given value'],
    tags: ['list', 'remove', 'stl'],
  },
  {
    id: 'cpp-list-106',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Sort a List',
    text: 'Sort the list in ascending order using sort()',
    setup: 'std::list<int> lst = {5, 2, 8, 1, 9};',
    setupCode: 'std::list<int> lst = {5, 2, 8, 1, 9};',
    expected: '{1, 2, 5, 8, 9}',
    sample: 'lst.sort();',
    hints: ['std::list has its own sort() member function'],
    tags: ['list', 'sort', 'stl'],
  },
  {
    id: 'cpp-list-107',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Reverse a List',
    text: 'Reverse the order of elements in the list using reverse()',
    setup: 'std::list<int> lst = {1, 2, 3, 4, 5};',
    setupCode: 'std::list<int> lst = {1, 2, 3, 4, 5};',
    expected: '{5, 4, 3, 2, 1}',
    sample: 'lst.reverse();',
    hints: ['std::list has its own reverse() member function'],
    tags: ['list', 'reverse', 'stl'],
  },
  {
    id: 'cpp-list-108',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Remove Consecutive Duplicates from List',
    text: 'Remove consecutive duplicate elements using unique()',
    setup: 'std::list<int> lst = {1, 1, 2, 2, 2, 3, 3};',
    setupCode: 'std::list<int> lst = {1, 1, 2, 2, 2, 3, 3};',
    expected: '{1, 2, 3}',
    sample: 'lst.unique();',
    hints: ['unique() removes consecutive duplicates only'],
    tags: ['list', 'unique', 'stl'],
  },
  {
    id: 'cpp-array-109',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Access std::array Element',
    text: 'Get the element at index 2 using at()',
    setup: 'std::array<int, 5> arr = {10, 20, 30, 40, 50};',
    setupCode: 'std::array<int, 5> arr = {10, 20, 30, 40, 50};',
    expected: '30',
    sample: 'arr.at(2)',
    hints: ['at() provides bounds-checked access'],
    tags: ['array', 'at', 'stl'],
  },
  {
    id: 'cpp-array-110',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Get std::array Size',
    text: 'Get the size of the std::array using size()',
    setup: 'std::array<int, 5> arr = {1, 2, 3, 4, 5};',
    setupCode: 'std::array<int, 5> arr = {1, 2, 3, 4, 5};',
    expected: '5',
    sample: 'arr.size()',
    hints: ['size() returns the number of elements in the array'],
    tags: ['array', 'size', 'stl'],
  },
  {
    id: 'cpp-array-111',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Fill std::array with Value',
    text: 'Fill all elements of the array with the value 7 using fill()',
    setup: 'std::array<int, 4> arr = {1, 2, 3, 4};',
    setupCode: 'std::array<int, 4> arr = {1, 2, 3, 4};',
    expected: '{7, 7, 7, 7}',
    sample: 'arr.fill(7);',
    hints: ['fill() sets all elements to the given value'],
    tags: ['array', 'fill', 'stl'],
  },
  {
    id: 'cpp-array-112',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Get First Element of std::array',
    text: 'Get the first element using front()',
    setup: 'std::array<int, 3> arr = {100, 200, 300};',
    setupCode: 'std::array<int, 3> arr = {100, 200, 300};',
    expected: '100',
    sample: 'arr.front()',
    hints: ['front() returns a reference to the first element'],
    tags: ['array', 'front', 'stl'],
  },
  {
    id: 'cpp-array-113',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Get Last Element of std::array',
    text: 'Get the last element using back()',
    setup: 'std::array<int, 3> arr = {100, 200, 300};',
    setupCode: 'std::array<int, 3> arr = {100, 200, 300};',
    expected: '300',
    sample: 'arr.back()',
    hints: ['back() returns a reference to the last element'],
    tags: ['array', 'back', 'stl'],
  },
  {
    id: 'cpp-fwdlist-114',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Push to Forward List Front',
    text: 'Add the value 0 to the front of the forward_list using push_front()',
    setup: 'std::forward_list<int> flist = {1, 2, 3};',
    setupCode: 'std::forward_list<int> flist = {1, 2, 3};',
    expected: '{0, 1, 2, 3}',
    sample: 'flist.push_front(0);',
    hints: ['forward_list only supports push_front(), not push_back()'],
    tags: ['forward_list', 'push_front', 'stl'],
  },
  {
    id: 'cpp-fwdlist-115',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Pop from Forward List Front',
    text: 'Remove the first element from the forward_list using pop_front()',
    setup: 'std::forward_list<int> flist = {1, 2, 3, 4};',
    setupCode: 'std::forward_list<int> flist = {1, 2, 3, 4};',
    expected: '{2, 3, 4}',
    sample: 'flist.pop_front();',
    hints: ['pop_front() removes the first element'],
    tags: ['forward_list', 'pop_front', 'stl'],
  },
  {
    id: 'cpp-fwdlist-116',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Insert After in Forward List',
    text: 'Insert the value 99 after the first element using insert_after()',
    setup: 'std::forward_list<int> flist = {1, 2, 3};',
    setupCode: 'std::forward_list<int> flist = {1, 2, 3};',
    expected: '{1, 99, 2, 3}',
    sample: 'flist.insert_after(flist.begin(), 99);',
    hints: ['insert_after() inserts after the given iterator position'],
    tags: ['forward_list', 'insert_after', 'stl'],
  },
  {
    id: 'cpp-fwdlist-117',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Remove All from Forward List',
    text: 'Remove all occurrences of value 2 from the forward_list',
    setup: 'std::forward_list<int> flist = {1, 2, 3, 2, 4, 2};',
    setupCode: 'std::forward_list<int> flist = {1, 2, 3, 2, 4, 2};',
    expected: '{1, 3, 4}',
    sample: 'flist.remove(2);',
    hints: ['remove() removes all elements equal to the given value'],
    tags: ['forward_list', 'remove', 'stl'],
  },
  {
    id: 'cpp-vector-118',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Reserve Vector Capacity',
    text: 'Reserve space for at least 100 elements using reserve()',
    setup: 'std::vector<int> nums;',
    setupCode: 'std::vector<int> nums;',
    expected: 'capacity >= 100',
    sample: 'nums.reserve(100);',
    hints: ['reserve() allocates memory without changing size'],
    tags: ['vector', 'reserve', 'stl'],
  },
  {
    id: 'cpp-vector-119',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Resize Vector',
    text: 'Resize the vector to contain exactly 5 elements, filling with 0',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: '{1, 2, 3, 0, 0}',
    sample: 'nums.resize(5);',
    hints: ['resize() changes the size, adding default-initialized elements if needed'],
    tags: ['vector', 'resize', 'stl'],
  },
  {
    id: 'cpp-vector-120',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Resize Vector with Value',
    text: 'Resize the vector to 5 elements, filling new elements with 9',
    setup: 'std::vector<int> nums = {1, 2};',
    setupCode: 'std::vector<int> nums = {1, 2};',
    expected: '{1, 2, 9, 9, 9}',
    sample: 'nums.resize(5, 9);',
    hints: ['resize() can take a second argument for the fill value'],
    tags: ['vector', 'resize', 'stl'],
  },
  {
    id: 'cpp-vector-121',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Get Vector Capacity',
    text: 'Get the current capacity of the vector using capacity()',
    setup: 'std::vector<int> nums = {1, 2, 3};\nnums.reserve(100);',
    setupCode: 'std::vector<int> nums = {1, 2, 3};\nnums.reserve(100);',
    expected: '>= 100',
    sample: 'nums.capacity()',
    hints: ['capacity() returns the number of elements the vector can hold without reallocation'],
    tags: ['vector', 'capacity', 'stl'],
  },
  {
    id: 'cpp-vector-122',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Shrink Vector to Fit',
    text: 'Reduce capacity to fit the current size using shrink_to_fit()',
    setup: 'std::vector<int> nums = {1, 2, 3};\nnums.reserve(100);',
    setupCode: 'std::vector<int> nums = {1, 2, 3};\nnums.reserve(100);',
    expected: 'capacity reduced',
    sample: 'nums.shrink_to_fit();',
    hints: ['shrink_to_fit() requests to reduce capacity to size (non-binding)'],
    tags: ['vector', 'shrink_to_fit', 'stl'],
  },
  {
    id: 'cpp-vector-123',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Emplace Back Element',
    text: 'Add an element constructed in-place at the end using emplace_back()',
    setup: 'std::vector<std::pair<int, std::string>> vec;',
    setupCode: 'std::vector<std::pair<int, std::string>> vec;',
    expected: '{{1, "one"}}',
    sample: 'vec.emplace_back(1, "one");',
    hints: ['emplace_back() constructs the element in-place, avoiding copies'],
    tags: ['vector', 'emplace_back', 'stl'],
  },
  {
    id: 'cpp-vector-124',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Swap Two Vectors',
    text: 'Swap the contents of vec1 and vec2 using swap()',
    setup: 'std::vector<int> vec1 = {1, 2, 3};\nstd::vector<int> vec2 = {4, 5};',
    setupCode: 'std::vector<int> vec1 = {1, 2, 3};\nstd::vector<int> vec2 = {4, 5};',
    expected: 'vec1 = {4, 5}, vec2 = {1, 2, 3}',
    sample: 'vec1.swap(vec2);',
    hints: ['swap() exchanges contents in constant time'],
    tags: ['vector', 'swap', 'stl'],
  },
  {
    id: 'cpp-vector-125',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Assign Vector Elements',
    text: 'Replace all elements with 5 copies of value 10 using assign()',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: '{10, 10, 10, 10, 10}',
    sample: 'nums.assign(5, 10);',
    hints: ['assign() replaces the contents with count copies of a value'],
    tags: ['vector', 'assign', 'stl'],
  },
  {
    id: 'cpp-deque-126',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Access Deque Element',
    text: 'Get the element at index 2 using at()',
    setup: 'std::deque<int> dq = {10, 20, 30, 40};',
    setupCode: 'std::deque<int> dq = {10, 20, 30, 40};',
    expected: '30',
    sample: 'dq.at(2)',
    hints: ['at() provides bounds-checked access'],
    tags: ['deque', 'at', 'stl'],
  },
  {
    id: 'cpp-deque-127',
    category: 'STL Containers',
    difficulty: 'easy',
    title: 'Get Deque Size',
    text: 'Get the number of elements in the deque using size()',
    setup: 'std::deque<int> dq = {1, 2, 3, 4, 5};',
    setupCode: 'std::deque<int> dq = {1, 2, 3, 4, 5};',
    expected: '5',
    sample: 'dq.size()',
    hints: ['size() returns the number of elements'],
    tags: ['deque', 'size', 'stl'],
  },
  {
    id: 'cpp-deque-128',
    category: 'STL Containers',
    difficulty: 'medium',
    title: 'Clear Deque',
    text: 'Remove all elements from the deque using clear()',
    setup: 'std::deque<int> dq = {1, 2, 3, 4, 5};',
    setupCode: 'std::deque<int> dq = {1, 2, 3, 4, 5};',
    expected: '{}',
    sample: 'dq.clear();',
    hints: ['clear() removes all elements'],
    tags: ['deque', 'clear', 'stl'],
  },
  {
    id: 'cpp-list-129',
    category: 'STL Containers',
    difficulty: 'hard',
    title: 'Splice Lists',
    text: 'Move all elements from lst2 to the beginning of lst1 using splice()',
    setup: 'std::list<int> lst1 = {1, 2, 3};\nstd::list<int> lst2 = {4, 5, 6};',
    setupCode: 'std::list<int> lst1 = {1, 2, 3};\nstd::list<int> lst2 = {4, 5, 6};',
    expected: 'lst1 = {4, 5, 6, 1, 2, 3}, lst2 = {}',
    sample: 'lst1.splice(lst1.begin(), lst2);',
    hints: ['splice() transfers elements from another list without copying'],
    tags: ['list', 'splice', 'stl'],
  },
  {
    id: 'cpp-list-130',
    category: 'STL Containers',
    difficulty: 'hard',
    title: 'Merge Sorted Lists',
    text: 'Merge two sorted lists into one sorted list using merge()',
    setup: 'std::list<int> lst1 = {1, 3, 5};\nstd::list<int> lst2 = {2, 4, 6};',
    setupCode: 'std::list<int> lst1 = {1, 3, 5};\nstd::list<int> lst2 = {2, 4, 6};',
    expected: 'lst1 = {1, 2, 3, 4, 5, 6}, lst2 = {}',
    sample: 'lst1.merge(lst2);',
    hints: ['merge() combines two sorted lists into one sorted list'],
    tags: ['list', 'merge', 'stl'],
  },

  // ============================================================
  // STL Algorithms - Additional
  // ============================================================
  {
    id: 'cpp-algo-131',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Partial Sort Elements',
    text: 'Partially sort the first 3 elements in ascending order using partial_sort()',
    setup: 'std::vector<int> nums = {5, 7, 4, 2, 8, 6, 1, 9, 0, 3};',
    setupCode: 'std::vector<int> nums = {5, 7, 4, 2, 8, 6, 1, 9, 0, 3};',
    expected: 'first 3 elements are {0, 1, 2}',
    sample: 'std::partial_sort(nums.begin(), nums.begin() + 3, nums.end());',
    hints: ['partial_sort() sorts only the first n elements'],
    tags: ['algorithm', 'partial_sort', 'stl'],
  },
  {
    id: 'cpp-algo-132',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Nth Element',
    text: 'Rearrange so the 3rd smallest element is at index 2 using nth_element()',
    setup: 'std::vector<int> nums = {5, 7, 4, 2, 8, 6, 1, 9, 0, 3};',
    setupCode: 'std::vector<int> nums = {5, 7, 4, 2, 8, 6, 1, 9, 0, 3};',
    expected: 'nums[2] == 2',
    sample: 'std::nth_element(nums.begin(), nums.begin() + 2, nums.end());',
    hints: ['nth_element() places the nth element in its sorted position'],
    tags: ['algorithm', 'nth_element', 'stl'],
  },
  {
    id: 'cpp-algo-133',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Binary Search',
    text: 'Check if value 5 exists in the sorted vector using binary_search()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6, 7, 8, 9};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6, 7, 8, 9};',
    expected: 'true',
    sample: 'std::binary_search(nums.begin(), nums.end(), 5)',
    hints: ['binary_search() requires a sorted range'],
    tags: ['algorithm', 'binary_search', 'stl'],
  },
  {
    id: 'cpp-algo-134',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Lower Bound',
    text: 'Find the first position where 5 could be inserted using lower_bound()',
    setup: 'std::vector<int> nums = {1, 2, 4, 5, 5, 6, 7};',
    setupCode: 'std::vector<int> nums = {1, 2, 4, 5, 5, 6, 7};',
    expected: 'iterator to first 5 (index 3)',
    sample: 'auto it = std::lower_bound(nums.begin(), nums.end(), 5);',
    hints: ['lower_bound() returns iterator to first element >= value'],
    tags: ['algorithm', 'lower_bound', 'stl'],
  },
  {
    id: 'cpp-algo-135',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Upper Bound',
    text: 'Find the first position after 5 using upper_bound()',
    setup: 'std::vector<int> nums = {1, 2, 4, 5, 5, 6, 7};',
    setupCode: 'std::vector<int> nums = {1, 2, 4, 5, 5, 6, 7};',
    expected: 'iterator to 6 (index 5)',
    sample: 'auto it = std::upper_bound(nums.begin(), nums.end(), 5);',
    hints: ['upper_bound() returns iterator to first element > value'],
    tags: ['algorithm', 'upper_bound', 'stl'],
  },
  {
    id: 'cpp-algo-136',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Equal Range',
    text: 'Find the range of elements equal to 5 using equal_range()',
    setup: 'std::vector<int> nums = {1, 2, 4, 5, 5, 5, 6, 7};',
    setupCode: 'std::vector<int> nums = {1, 2, 4, 5, 5, 5, 6, 7};',
    expected: 'pair of iterators: [index 3, index 6)',
    sample: 'auto range = std::equal_range(nums.begin(), nums.end(), 5);',
    hints: ['equal_range() returns a pair of lower_bound and upper_bound'],
    tags: ['algorithm', 'equal_range', 'stl'],
  },
  {
    id: 'cpp-algo-137',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Fill Range with Value',
    text: 'Fill the vector with the value 42 using std::fill()',
    setup: 'std::vector<int> nums(5);',
    setupCode: 'std::vector<int> nums(5);',
    expected: '{42, 42, 42, 42, 42}',
    sample: 'std::fill(nums.begin(), nums.end(), 42);',
    hints: ['fill() assigns the given value to all elements in the range'],
    tags: ['algorithm', 'fill', 'stl'],
  },
  {
    id: 'cpp-algo-138',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Generate Sequence',
    text: 'Fill the vector with values 0, 1, 2, 3, 4 using std::iota()',
    setup: 'std::vector<int> nums(5);',
    setupCode: 'std::vector<int> nums(5);',
    expected: '{0, 1, 2, 3, 4}',
    sample: 'std::iota(nums.begin(), nums.end(), 0);',
    hints: ['iota() fills the range with sequentially increasing values'],
    tags: ['algorithm', 'iota', 'numeric', 'stl'],
  },
  {
    id: 'cpp-algo-139',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Replace Values',
    text: 'Replace all occurrences of 3 with 99 using std::replace()',
    setup: 'std::vector<int> nums = {1, 3, 2, 3, 4, 3};',
    setupCode: 'std::vector<int> nums = {1, 3, 2, 3, 4, 3};',
    expected: '{1, 99, 2, 99, 4, 99}',
    sample: 'std::replace(nums.begin(), nums.end(), 3, 99);',
    hints: ['replace() substitutes all matching values'],
    tags: ['algorithm', 'replace', 'stl'],
  },
  {
    id: 'cpp-algo-140',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Replace If Condition',
    text: 'Replace all odd numbers with 0 using std::replace_if()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: '{0, 2, 0, 4, 0, 6}',
    sample: 'std::replace_if(nums.begin(), nums.end(), [](int x) { return x % 2 != 0; }, 0);',
    hints: ['replace_if() replaces elements where the predicate returns true'],
    tags: ['algorithm', 'replace_if', 'stl'],
  },
  {
    id: 'cpp-algo-141',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Copy Elements',
    text: 'Copy all elements to another vector using std::copy()',
    setup: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest(5);',
    setupCode: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest(5);',
    expected: 'dest = {1, 2, 3, 4, 5}',
    sample: 'std::copy(src.begin(), src.end(), dest.begin());',
    hints: ['copy() copies elements from source to destination range'],
    tags: ['algorithm', 'copy', 'stl'],
  },
  {
    id: 'cpp-algo-142',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Copy N Elements',
    text: 'Copy the first 3 elements to another vector using std::copy_n()',
    setup: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest(3);',
    setupCode: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest(3);',
    expected: 'dest = {1, 2, 3}',
    sample: 'std::copy_n(src.begin(), 3, dest.begin());',
    hints: ['copy_n() copies exactly n elements'],
    tags: ['algorithm', 'copy_n', 'stl'],
  },
  {
    id: 'cpp-algo-143',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Move Elements',
    text: 'Move all strings to another vector using std::move()',
    setup: 'std::vector<std::string> src = {"hello", "world"};\nstd::vector<std::string> dest(2);',
    setupCode:
      'std::vector<std::string> src = {"hello", "world"};\nstd::vector<std::string> dest(2);',
    expected: 'dest = {"hello", "world"}, src strings moved-from',
    sample: 'std::move(src.begin(), src.end(), dest.begin());',
    hints: ['std::move (algorithm) moves elements from source to destination'],
    tags: ['algorithm', 'move', 'stl'],
  },
  {
    id: 'cpp-algo-144',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Unique Elements',
    text: 'Remove consecutive duplicates using std::unique() and erase()',
    setup: 'std::vector<int> nums = {1, 1, 2, 2, 2, 3, 3, 4};',
    setupCode: 'std::vector<int> nums = {1, 1, 2, 2, 2, 3, 3, 4};',
    expected: '{1, 2, 3, 4}',
    sample: 'nums.erase(std::unique(nums.begin(), nums.end()), nums.end());',
    hints: ['unique() moves duplicates to the end and returns new end iterator'],
    tags: ['algorithm', 'unique', 'stl'],
  },
  {
    id: 'cpp-algo-145',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Rotate Elements',
    text: 'Rotate elements so that the element at index 2 becomes the first element',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{3, 4, 5, 1, 2}',
    sample: 'std::rotate(nums.begin(), nums.begin() + 2, nums.end());',
    hints: ['rotate() rotates elements around the middle iterator'],
    tags: ['algorithm', 'rotate', 'stl'],
  },
  {
    id: 'cpp-algo-146',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Shuffle Elements',
    text: 'Randomly shuffle the elements using std::shuffle()',
    setup:
      'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::random_device rd;\nstd::mt19937 gen(rd());',
    setupCode:
      'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::random_device rd;\nstd::mt19937 gen(rd());',
    expected: 'randomly shuffled order',
    sample: 'std::shuffle(nums.begin(), nums.end(), gen);',
    hints: ['shuffle() requires a random number generator'],
    tags: ['algorithm', 'shuffle', 'random', 'stl'],
  },
  {
    id: 'cpp-algo-147',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Find If Condition',
    text: 'Find the first even number using std::find_if()',
    setup: 'std::vector<int> nums = {1, 3, 5, 4, 7, 8};',
    setupCode: 'std::vector<int> nums = {1, 3, 5, 4, 7, 8};',
    expected: 'iterator to 4',
    sample: 'auto it = std::find_if(nums.begin(), nums.end(), [](int x) { return x % 2 == 0; });',
    hints: ['find_if() returns iterator to first element where predicate is true'],
    tags: ['algorithm', 'find_if', 'stl'],
  },
  {
    id: 'cpp-algo-148',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Find If Not Condition',
    text: 'Find the first non-positive number using std::find_if_not()',
    setup: 'std::vector<int> nums = {1, 2, 3, -1, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, -1, 5};',
    expected: 'iterator to -1',
    sample: 'auto it = std::find_if_not(nums.begin(), nums.end(), [](int x) { return x > 0; });',
    hints: ['find_if_not() returns iterator to first element where predicate is false'],
    tags: ['algorithm', 'find_if_not', 'stl'],
  },
  {
    id: 'cpp-algo-149',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Count If Condition',
    text: 'Count how many elements are greater than 5 using std::count_if()',
    setup: 'std::vector<int> nums = {1, 7, 3, 8, 5, 9, 2};',
    setupCode: 'std::vector<int> nums = {1, 7, 3, 8, 5, 9, 2};',
    expected: '3',
    sample: 'std::count_if(nums.begin(), nums.end(), [](int x) { return x > 5; })',
    hints: ['count_if() counts elements where predicate is true'],
    tags: ['algorithm', 'count_if', 'stl'],
  },

  // ============================================================
  // String Operations - Additional
  // ============================================================
  {
    id: 'cpp-str-150',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Replace Substring',
    text: 'Replace "World" with "C++" in the string using replace()',
    setup: 'std::string str = "Hello World!";',
    setupCode: 'std::string str = "Hello World!";',
    expected: '"Hello C++!"',
    sample: 'str.replace(str.find("World"), 5, "C++");',
    hints: ['replace() takes position, length, and new string'],
    tags: ['string', 'replace', 'stl'],
  },
  {
    id: 'cpp-str-151',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Insert into String',
    text: 'Insert "Beautiful " at position 6 in the string',
    setup: 'std::string str = "Hello World!";',
    setupCode: 'std::string str = "Hello World!";',
    expected: '"Hello Beautiful World!"',
    sample: 'str.insert(6, "Beautiful ");',
    hints: ['insert() adds characters at the specified position'],
    tags: ['string', 'insert', 'stl'],
  },
  {
    id: 'cpp-str-152',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Erase from String',
    text: 'Erase the first 6 characters from the string',
    setup: 'std::string str = "Hello World!";',
    setupCode: 'std::string str = "Hello World!";',
    expected: '"World!"',
    sample: 'str.erase(0, 6);',
    hints: ['erase() removes characters from position for given length'],
    tags: ['string', 'erase', 'stl'],
  },
  {
    id: 'cpp-str-153',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Clear String',
    text: 'Clear all characters from the string using clear()',
    setup: 'std::string str = "Hello World!";',
    setupCode: 'std::string str = "Hello World!";',
    expected: '""',
    sample: 'str.clear();',
    hints: ['clear() removes all characters from the string'],
    tags: ['string', 'clear', 'stl'],
  },
  {
    id: 'cpp-str-154',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Check String Empty',
    text: 'Check if the string is empty using empty()',
    setup: 'std::string str = "";',
    setupCode: 'std::string str = "";',
    expected: 'true',
    sample: 'str.empty()',
    hints: ['empty() returns true if the string has no characters'],
    tags: ['string', 'empty', 'stl'],
  },
  {
    id: 'cpp-str-155',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Find First Of',
    text: 'Find the first occurrence of any vowel in the string',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: '1 (position of e)',
    sample: 'str.find_first_of("aeiouAEIOU")',
    hints: ['find_first_of() finds the first character that matches any in the argument'],
    tags: ['string', 'find_first_of', 'stl'],
  },
  {
    id: 'cpp-str-156',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Find Last Of',
    text: 'Find the last occurrence of any vowel in the string',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: '7 (position of o in World)',
    sample: 'str.find_last_of("aeiouAEIOU")',
    hints: ['find_last_of() finds the last character that matches any in the argument'],
    tags: ['string', 'find_last_of', 'stl'],
  },
  {
    id: 'cpp-str-157',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Find First Not Of',
    text: 'Find the first non-space character in the string',
    setup: 'std::string str = "   Hello";',
    setupCode: 'std::string str = "   Hello";',
    expected: '3 (position of H)',
    sample: 'str.find_first_not_of(" ")',
    hints: ['find_first_not_of() finds the first character not in the argument'],
    tags: ['string', 'find_first_not_of', 'stl'],
  },
  {
    id: 'cpp-str-158',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Push Back Character',
    text: 'Append the character ! to the end of the string',
    setup: 'std::string str = "Hello";',
    setupCode: 'std::string str = "Hello";',
    expected: '"Hello!"',
    sample: "str.push_back('!');",
    hints: ['push_back() appends a single character'],
    tags: ['string', 'push_back', 'stl'],
  },
  {
    id: 'cpp-str-159',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Pop Back Character',
    text: 'Remove the last character from the string',
    setup: 'std::string str = "Hello!";',
    setupCode: 'std::string str = "Hello!";',
    expected: '"Hello"',
    sample: 'str.pop_back();',
    hints: ['pop_back() removes the last character'],
    tags: ['string', 'pop_back', 'stl'],
  },
  {
    id: 'cpp-strview-160',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Create String View',
    text: 'Create a string_view from the string',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: 'string_view of "Hello World"',
    sample: 'std::string_view sv(str);',
    hints: ['string_view provides a non-owning view of a string'],
    tags: ['string_view', 'c++17', 'stl'],
  },
  {
    id: 'cpp-strview-161',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String View Substr',
    text: 'Get a substring view of the first 5 characters',
    setup: 'std::string_view sv = "Hello World";',
    setupCode: 'std::string_view sv = "Hello World";',
    expected: '"Hello"',
    sample: 'sv.substr(0, 5)',
    hints: ['string_view::substr() returns another string_view'],
    tags: ['string_view', 'substr', 'c++17', 'stl'],
  },
  {
    id: 'cpp-strview-162',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Remove Prefix from String View',
    text: 'Remove the first 6 characters from the string_view',
    setup: 'std::string_view sv = "Hello World";',
    setupCode: 'std::string_view sv = "Hello World";',
    expected: '"World"',
    sample: 'sv.remove_prefix(6);',
    hints: ['remove_prefix() shrinks the view from the front'],
    tags: ['string_view', 'remove_prefix', 'c++17', 'stl'],
  },
  {
    id: 'cpp-strview-163',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Remove Suffix from String View',
    text: 'Remove the last 6 characters from the string_view',
    setup: 'std::string_view sv = "Hello World";',
    setupCode: 'std::string_view sv = "Hello World";',
    expected: '"Hello"',
    sample: 'sv.remove_suffix(6);',
    hints: ['remove_suffix() shrinks the view from the back'],
    tags: ['string_view', 'remove_suffix', 'c++17', 'stl'],
  },
  {
    id: 'cpp-str-164',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String Starts With (C++20)',
    text: 'Check if the string starts with "Hello"',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: 'true',
    sample: 'str.starts_with("Hello")',
    hints: ['starts_with() is a C++20 feature'],
    tags: ['string', 'starts_with', 'c++20', 'stl'],
  },
  {
    id: 'cpp-str-165',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String Ends With (C++20)',
    text: 'Check if the string ends with "World"',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: 'true',
    sample: 'str.ends_with("World")',
    hints: ['ends_with() is a C++20 feature'],
    tags: ['string', 'ends_with', 'c++20', 'stl'],
  },
  {
    id: 'cpp-str-166',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String Contains (C++23)',
    text: 'Check if the string contains "llo"',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: 'true',
    sample: 'str.contains("llo")',
    hints: ['contains() is a C++23 feature'],
    tags: ['string', 'contains', 'c++23', 'stl'],
  },
  {
    id: 'cpp-str-167',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Resize String',
    text: 'Resize the string to 5 characters',
    setup: 'std::string str = "Hello World";',
    setupCode: 'std::string str = "Hello World";',
    expected: '"Hello"',
    sample: 'str.resize(5);',
    hints: ['resize() changes the string length'],
    tags: ['string', 'resize', 'stl'],
  },
  {
    id: 'cpp-str-168',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Reserve String Capacity',
    text: 'Reserve capacity for at least 100 characters',
    setup: 'std::string str;',
    setupCode: 'std::string str;',
    expected: 'capacity >= 100',
    sample: 'str.reserve(100);',
    hints: ['reserve() allocates memory without changing size'],
    tags: ['string', 'reserve', 'stl'],
  },
  {
    id: 'cpp-str-169',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'Convert String to Integer',
    text: 'Convert the string to an integer using std::stoi()',
    setup: 'std::string str = "42";',
    setupCode: 'std::string str = "42";',
    expected: '42',
    sample: 'std::stoi(str)',
    hints: ['stoi() converts string to int, throws on invalid input'],
    tags: ['string', 'stoi', 'conversion', 'stl'],
  },

  // ============================================================
  // Map/Set - Additional
  // ============================================================
  {
    id: 'cpp-umap-170',
    category: 'Map/Set',
    difficulty: 'easy',
    title: 'Insert into Unordered Map',
    text: 'Insert key "apple" with value 5 into the unordered_map',
    setup: 'std::unordered_map<std::string, int> fruits;',
    setupCode: 'std::unordered_map<std::string, int> fruits;',
    expected: 'fruits["apple"] = 5',
    sample: 'fruits["apple"] = 5;',
    hints: ['unordered_map uses hash table, O(1) average access'],
    tags: ['unordered_map', 'insert', 'stl'],
  },
  {
    id: 'cpp-umap-171',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Emplace into Unordered Map',
    text: 'Emplace key "banana" with value 3 into the unordered_map',
    setup: 'std::unordered_map<std::string, int> fruits;',
    setupCode: 'std::unordered_map<std::string, int> fruits;',
    expected: 'fruits contains {"banana", 3}',
    sample: 'fruits.emplace("banana", 3);',
    hints: ['emplace() constructs the element in-place'],
    tags: ['unordered_map', 'emplace', 'stl'],
  },
  {
    id: 'cpp-umap-172',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Try Emplace (C++17)',
    text: 'Insert only if key does not exist using try_emplace()',
    setup: 'std::unordered_map<std::string, int> fruits = {{"apple", 5}};',
    setupCode: 'std::unordered_map<std::string, int> fruits = {{"apple", 5}};',
    expected: 'apple remains 5, banana inserted as 3',
    sample: 'fruits.try_emplace("apple", 10);\nfruits.try_emplace("banana", 3);',
    hints: ['try_emplace() only inserts if the key does not exist'],
    tags: ['unordered_map', 'try_emplace', 'c++17', 'stl'],
  },
  {
    id: 'cpp-umap-173',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Insert Or Assign (C++17)',
    text: 'Insert or update the value for key "apple" using insert_or_assign()',
    setup: 'std::unordered_map<std::string, int> fruits = {{"apple", 5}};',
    setupCode: 'std::unordered_map<std::string, int> fruits = {{"apple", 5}};',
    expected: 'fruits["apple"] = 10',
    sample: 'fruits.insert_or_assign("apple", 10);',
    hints: ['insert_or_assign() inserts or updates the value'],
    tags: ['unordered_map', 'insert_or_assign', 'c++17', 'stl'],
  },
  {
    id: 'cpp-uset-174',
    category: 'Map/Set',
    difficulty: 'easy',
    title: 'Insert into Unordered Set',
    text: 'Insert the value 42 into the unordered_set',
    setup: 'std::unordered_set<int> numbers;',
    setupCode: 'std::unordered_set<int> numbers;',
    expected: 'numbers contains 42',
    sample: 'numbers.insert(42);',
    hints: ['unordered_set uses hash table for O(1) average lookup'],
    tags: ['unordered_set', 'insert', 'stl'],
  },
  {
    id: 'cpp-uset-175',
    category: 'Map/Set',
    difficulty: 'easy',
    title: 'Check Element in Unordered Set',
    text: 'Check if 42 exists in the unordered_set using contains() (C++20)',
    setup: 'std::unordered_set<int> numbers = {1, 42, 100};',
    setupCode: 'std::unordered_set<int> numbers = {1, 42, 100};',
    expected: 'true',
    sample: 'numbers.contains(42)',
    hints: ['contains() is a C++20 feature for checking membership'],
    tags: ['unordered_set', 'contains', 'c++20', 'stl'],
  },
  {
    id: 'cpp-mmap-176',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Insert into Multimap',
    text: 'Insert multiple values for the same key into a multimap',
    setup: 'std::multimap<std::string, int> scores;',
    setupCode: 'std::multimap<std::string, int> scores;',
    expected: 'scores contains {"Alice", 90} and {"Alice", 85}',
    sample: 'scores.insert({"Alice", 90});\nscores.insert({"Alice", 85});',
    hints: ['multimap allows duplicate keys'],
    tags: ['multimap', 'insert', 'stl'],
  },
  {
    id: 'cpp-mmap-177',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Count Keys in Multimap',
    text: 'Count how many entries have key "Alice"',
    setup: 'std::multimap<std::string, int> scores = {{"Alice", 90}, {"Alice", 85}, {"Bob", 95}};',
    setupCode:
      'std::multimap<std::string, int> scores = {{"Alice", 90}, {"Alice", 85}, {"Bob", 95}};',
    expected: '2',
    sample: 'scores.count("Alice")',
    hints: ['count() returns the number of elements with the given key'],
    tags: ['multimap', 'count', 'stl'],
  },
  {
    id: 'cpp-mset-178',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Insert into Multiset',
    text: 'Insert duplicate values into a multiset',
    setup: 'std::multiset<int> numbers;',
    setupCode: 'std::multiset<int> numbers;',
    expected: 'numbers contains {5, 5, 5}',
    sample: 'numbers.insert(5);\nnumbers.insert(5);\nnumbers.insert(5);',
    hints: ['multiset allows duplicate elements'],
    tags: ['multiset', 'insert', 'stl'],
  },
  {
    id: 'cpp-mset-179',
    category: 'Map/Set',
    difficulty: 'medium',
    title: 'Count in Multiset',
    text: 'Count how many times 5 appears in the multiset',
    setup: 'std::multiset<int> numbers = {1, 5, 3, 5, 7, 5, 2};',
    setupCode: 'std::multiset<int> numbers = {1, 5, 3, 5, 7, 5, 2};',
    expected: '3',
    sample: 'numbers.count(5)',
    hints: ['count() returns the number of elements equal to the value'],
    tags: ['multiset', 'count', 'stl'],
  },

  // ============================================================
  // Smart Pointers
  // ============================================================
  {
    id: 'cpp-smart-180',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'Create unique_ptr with make_unique',
    text: 'Create a unique_ptr to an int with value 42 using make_unique',
    setup: '',
    setupCode: '',
    expected: 'unique_ptr holding 42',
    sample: 'auto ptr = std::make_unique<int>(42);',
    hints: ['make_unique is the preferred way to create unique_ptr'],
    tags: ['unique_ptr', 'make_unique', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-181',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'Access unique_ptr Value',
    text: 'Get the value stored in the unique_ptr using dereference',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: '42',
    sample: '*ptr',
    hints: ['Use * to dereference and access the value'],
    tags: ['unique_ptr', 'dereference', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-182',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Move unique_ptr Ownership',
    text: 'Transfer ownership from ptr1 to ptr2 using std::move',
    setup: 'auto ptr1 = std::make_unique<int>(42);',
    setupCode: 'auto ptr1 = std::make_unique<int>(42);',
    expected: 'ptr2 owns the int, ptr1 is nullptr',
    sample: 'auto ptr2 = std::move(ptr1);',
    hints: ['unique_ptr cannot be copied, only moved'],
    tags: ['unique_ptr', 'move', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-183',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Release unique_ptr',
    text: 'Release ownership and get the raw pointer',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: 'raw pointer to int, ptr becomes nullptr',
    sample: 'int* raw = ptr.release();',
    hints: ['release() returns the raw pointer and sets unique_ptr to nullptr'],
    tags: ['unique_ptr', 'release', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-184',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Reset unique_ptr',
    text: 'Reset the unique_ptr to point to a new value',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: 'ptr now points to 100',
    sample: 'ptr.reset(new int(100));',
    hints: ['reset() deletes the old object and takes ownership of the new one'],
    tags: ['unique_ptr', 'reset', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-185',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'Create shared_ptr with make_shared',
    text: 'Create a shared_ptr to an int with value 42',
    setup: '',
    setupCode: '',
    expected: 'shared_ptr holding 42',
    sample: 'auto ptr = std::make_shared<int>(42);',
    hints: ['make_shared is more efficient than using new'],
    tags: ['shared_ptr', 'make_shared', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-186',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'Get shared_ptr Use Count',
    text: 'Get the number of shared_ptr instances sharing ownership',
    setup: 'auto ptr1 = std::make_shared<int>(42);\nauto ptr2 = ptr1;',
    setupCode: 'auto ptr1 = std::make_shared<int>(42);\nauto ptr2 = ptr1;',
    expected: '2',
    sample: 'ptr1.use_count()',
    hints: ['use_count() returns the number of shared owners'],
    tags: ['shared_ptr', 'use_count', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-187',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Create weak_ptr from shared_ptr',
    text: 'Create a weak_ptr that observes the shared_ptr',
    setup: 'auto shared = std::make_shared<int>(42);',
    setupCode: 'auto shared = std::make_shared<int>(42);',
    expected: 'weak_ptr observing the shared_ptr',
    sample: 'std::weak_ptr<int> weak = shared;',
    hints: ['weak_ptr does not contribute to reference count'],
    tags: ['weak_ptr', 'shared_ptr', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-188',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Lock weak_ptr',
    text: 'Convert weak_ptr to shared_ptr using lock()',
    setup: 'auto shared = std::make_shared<int>(42);\nstd::weak_ptr<int> weak = shared;',
    setupCode: 'auto shared = std::make_shared<int>(42);\nstd::weak_ptr<int> weak = shared;',
    expected: 'shared_ptr from weak_ptr',
    sample: 'auto locked = weak.lock();',
    hints: ['lock() returns empty shared_ptr if the object was deleted'],
    tags: ['weak_ptr', 'lock', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-189',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Check if weak_ptr Expired',
    text: 'Check if the observed object has been deleted',
    setup:
      'std::weak_ptr<int> weak;\n{\n  auto shared = std::make_shared<int>(42);\n  weak = shared;\n}',
    setupCode:
      'std::weak_ptr<int> weak;\n{\n  auto shared = std::make_shared<int>(42);\n  weak = shared;\n}',
    expected: 'true (object deleted)',
    sample: 'weak.expired()',
    hints: ['expired() returns true if the managed object was deleted'],
    tags: ['weak_ptr', 'expired', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-190',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'unique_ptr with Custom Deleter',
    text: 'Create a unique_ptr with a custom deleter for FILE*',
    setup: '',
    setupCode: '',
    expected: 'unique_ptr that closes file on destruction',
    sample: 'std::unique_ptr<FILE, decltype(&fclose)> file(fopen("test.txt", "r"), fclose);',
    hints: ['Custom deleters allow managing non-new resources'],
    tags: ['unique_ptr', 'custom_deleter', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-191',
    category: 'Smart Pointers',
    difficulty: 'hard',
    title: 'unique_ptr to Array',
    text: 'Create a unique_ptr managing an array of 10 integers',
    setup: '',
    setupCode: '',
    expected: 'unique_ptr to int[10]',
    sample: 'auto arr = std::make_unique<int[]>(10);',
    hints: ['Use int[] as the template argument for array types'],
    tags: ['unique_ptr', 'array', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-192',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Get Raw Pointer from unique_ptr',
    text: 'Get the raw pointer without releasing ownership using get()',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: 'raw int* pointer',
    sample: 'int* raw = ptr.get();',
    hints: ['get() returns the raw pointer but unique_ptr retains ownership'],
    tags: ['unique_ptr', 'get', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-193',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'Swap unique_ptrs',
    text: 'Swap the contents of two unique_ptrs',
    setup: 'auto ptr1 = std::make_unique<int>(1);\nauto ptr2 = std::make_unique<int>(2);',
    setupCode: 'auto ptr1 = std::make_unique<int>(1);\nauto ptr2 = std::make_unique<int>(2);',
    expected: 'ptr1 holds 2, ptr2 holds 1',
    sample: 'ptr1.swap(ptr2);',
    hints: ['swap() exchanges the managed pointers'],
    tags: ['unique_ptr', 'swap', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-194',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'Check unique_ptr Validity',
    text: 'Check if the unique_ptr holds a valid pointer',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: 'true',
    sample: 'static_cast<bool>(ptr)',
    hints: ['unique_ptr converts to bool (true if not nullptr)'],
    tags: ['unique_ptr', 'bool_conversion', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-195',
    category: 'Smart Pointers',
    difficulty: 'hard',
    title: 'shared_ptr with Aliasing Constructor',
    text: 'Create a shared_ptr to a member that shares ownership with parent',
    setup: 'struct S { int x; };\nauto parent = std::make_shared<S>();',
    setupCode: 'struct S { int x; };\nauto parent = std::make_shared<S>();',
    expected: 'shared_ptr to x that keeps S alive',
    sample: 'std::shared_ptr<int> member(parent, &parent->x);',
    hints: ['Aliasing constructor allows pointing to a different object while sharing ownership'],
    tags: ['shared_ptr', 'aliasing', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-196',
    category: 'Smart Pointers',
    difficulty: 'hard',
    title: 'enable_shared_from_this',
    text: 'Get a shared_ptr from within the object itself',
    setup:
      'struct S : std::enable_shared_from_this<S> { auto getPtr() { return shared_from_this(); } };',
    setupCode:
      'struct S : std::enable_shared_from_this<S> { auto getPtr() { return shared_from_this(); } };',
    expected: 'shared_ptr to self',
    sample: 'auto s = std::make_shared<S>();\nauto ptr = s->getPtr();',
    hints: ['enable_shared_from_this allows getting shared_ptr from this'],
    tags: ['shared_ptr', 'enable_shared_from_this', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-197',
    category: 'Smart Pointers',
    difficulty: 'medium',
    title: 'shared_ptr Reset',
    text: 'Reset the shared_ptr to manage a new object',
    setup: 'auto ptr = std::make_shared<int>(42);',
    setupCode: 'auto ptr = std::make_shared<int>(42);',
    expected: 'ptr now manages new int(100)',
    sample: 'ptr.reset(new int(100));',
    hints: ['reset() decrements old count and takes ownership of new object'],
    tags: ['shared_ptr', 'reset', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-198',
    category: 'Smart Pointers',
    difficulty: 'easy',
    title: 'shared_ptr Unique Check',
    text: 'Check if this shared_ptr is the only owner',
    setup: 'auto ptr = std::make_shared<int>(42);',
    setupCode: 'auto ptr = std::make_shared<int>(42);',
    expected: 'true',
    sample: 'ptr.unique()',
    hints: ['unique() returns true if use_count() == 1 (deprecated in C++17)'],
    tags: ['shared_ptr', 'unique', 'smart_pointer'],
  },
  {
    id: 'cpp-smart-199',
    category: 'Smart Pointers',
    difficulty: 'hard',
    title: 'shared_ptr with Custom Allocator',
    text: 'Create shared_ptr using allocate_shared with custom allocator',
    setup: 'std::allocator<int> alloc;',
    setupCode: 'std::allocator<int> alloc;',
    expected: 'shared_ptr using custom allocator',
    sample: 'auto ptr = std::allocate_shared<int>(alloc, 42);',
    hints: ['allocate_shared uses the provided allocator for both control block and object'],
    tags: ['shared_ptr', 'allocate_shared', 'smart_pointer'],
  },

  // ============================================================
  // Modern C++ Features (C++17/20/23)
  // ============================================================
  {
    id: 'cpp-modern-200',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Create std::optional',
    text: 'Create an optional that contains the value 42',
    setup: '',
    setupCode: '',
    expected: 'optional containing 42',
    sample: 'std::optional<int> opt = 42;',
    hints: ['std::optional can hold a value or be empty (C++17)'],
    tags: ['optional', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-201',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Check optional Has Value',
    text: 'Check if the optional contains a value using has_value()',
    setup: 'std::optional<int> opt = 42;',
    setupCode: 'std::optional<int> opt = 42;',
    expected: 'true',
    sample: 'opt.has_value()',
    hints: ['has_value() returns true if the optional contains a value'],
    tags: ['optional', 'has_value', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-202',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Get optional Value',
    text: 'Get the value from the optional using value()',
    setup: 'std::optional<int> opt = 42;',
    setupCode: 'std::optional<int> opt = 42;',
    expected: '42',
    sample: 'opt.value()',
    hints: ['value() throws bad_optional_access if empty'],
    tags: ['optional', 'value', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-203',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Get optional Value Or Default',
    text: 'Get the value or return -1 if empty using value_or()',
    setup: 'std::optional<int> opt = std::nullopt;',
    setupCode: 'std::optional<int> opt = std::nullopt;',
    expected: '-1',
    sample: 'opt.value_or(-1)',
    hints: ['value_or() returns the contained value or the provided default'],
    tags: ['optional', 'value_or', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-204',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Emplace in optional',
    text: 'Construct a value in-place in the optional using emplace()',
    setup: 'std::optional<std::string> opt;',
    setupCode: 'std::optional<std::string> opt;',
    expected: 'optional containing "hello"',
    sample: 'opt.emplace("hello");',
    hints: ['emplace() constructs the value in-place'],
    tags: ['optional', 'emplace', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-205',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Reset optional',
    text: 'Clear the optional value using reset()',
    setup: 'std::optional<int> opt = 42;',
    setupCode: 'std::optional<int> opt = 42;',
    expected: 'empty optional',
    sample: 'opt.reset();',
    hints: ['reset() destroys the contained value if any'],
    tags: ['optional', 'reset', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-206',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Create std::variant',
    text: 'Create a variant that can hold int or string, initialized with int',
    setup: '',
    setupCode: '',
    expected: 'variant holding 42',
    sample: 'std::variant<int, std::string> v = 42;',
    hints: ['std::variant is a type-safe union (C++17)'],
    tags: ['variant', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-207',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Get variant Value with std::get',
    text: 'Get the int value from the variant using std::get<int>',
    setup: 'std::variant<int, std::string> v = 42;',
    setupCode: 'std::variant<int, std::string> v = 42;',
    expected: '42',
    sample: 'std::get<int>(v)',
    hints: ['std::get throws bad_variant_access if wrong type'],
    tags: ['variant', 'get', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-208',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Get variant Index',
    text: 'Get the index of the currently held type',
    setup: 'std::variant<int, std::string, double> v = "hello";',
    setupCode: 'std::variant<int, std::string, double> v = "hello";',
    expected: '1',
    sample: 'v.index()',
    hints: ['index() returns the zero-based index of the active alternative'],
    tags: ['variant', 'index', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-209',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Check variant Type with holds_alternative',
    text: 'Check if the variant holds a string',
    setup: 'std::variant<int, std::string> v = "hello";',
    setupCode: 'std::variant<int, std::string> v = "hello";',
    expected: 'true',
    sample: 'std::holds_alternative<std::string>(v)',
    hints: ['holds_alternative checks if variant holds specific type'],
    tags: ['variant', 'holds_alternative', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-210',
    category: 'Modern C++ Features',
    difficulty: 'hard',
    title: 'Visit variant with std::visit',
    text: 'Apply a visitor to the variant that doubles ints and returns string length',
    setup: 'std::variant<int, std::string> v = 42;',
    setupCode: 'std::variant<int, std::string> v = 42;',
    expected: '84',
    sample:
      'std::visit([](auto&& arg) -> int {\n  using T = std::decay_t<decltype(arg)>;\n  if constexpr (std::is_same_v<T, int>) return arg * 2;\n  else return arg.size();\n}, v)',
    hints: ['std::visit applies a callable to the contained value'],
    tags: ['variant', 'visit', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-211',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Safe variant Access with get_if',
    text: 'Safely get a pointer to the int if variant holds int',
    setup: 'std::variant<int, std::string> v = 42;',
    setupCode: 'std::variant<int, std::string> v = 42;',
    expected: 'pointer to 42',
    sample: 'auto* ptr = std::get_if<int>(&v);',
    hints: ['get_if returns nullptr if wrong type, no exception'],
    tags: ['variant', 'get_if', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-212',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Create std::any',
    text: 'Create an any that holds an integer 42',
    setup: '',
    setupCode: '',
    expected: 'any holding 42',
    sample: 'std::any a = 42;',
    hints: ['std::any can hold any type (C++17)'],
    tags: ['any', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-213',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Get std::any Value',
    text: 'Get the int value from std::any using any_cast',
    setup: 'std::any a = 42;',
    setupCode: 'std::any a = 42;',
    expected: '42',
    sample: 'std::any_cast<int>(a)',
    hints: ['any_cast throws bad_any_cast if wrong type'],
    tags: ['any', 'any_cast', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-214',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Check std::any Has Value',
    text: 'Check if the any contains a value using has_value()',
    setup: 'std::any a = 42;',
    setupCode: 'std::any a = 42;',
    expected: 'true',
    sample: 'a.has_value()',
    hints: ['has_value() returns true if any contains a value'],
    tags: ['any', 'has_value', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-215',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Get std::any Type',
    text: 'Get the type_info of the contained value',
    setup: 'std::any a = 42;',
    setupCode: 'std::any a = 42;',
    expected: 'typeid(int)',
    sample: 'a.type()',
    hints: ['type() returns std::type_info of the contained type'],
    tags: ['any', 'type', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-216',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'std::expected Success (C++23)',
    text: 'Create an expected that contains a successful value',
    setup: '',
    setupCode: '',
    expected: 'expected containing 42',
    sample: 'std::expected<int, std::string> result = 42;',
    hints: ['std::expected holds either a value or an error (C++23)'],
    tags: ['expected', 'c++23', 'modern'],
  },
  {
    id: 'cpp-modern-217',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'std::expected Error (C++23)',
    text: 'Create an expected that contains an error',
    setup: '',
    setupCode: '',
    expected: 'expected containing error',
    sample: 'std::expected<int, std::string> result = std::unexpected("error");',
    hints: ['Use std::unexpected to create an error state'],
    tags: ['expected', 'unexpected', 'c++23', 'modern'],
  },
  {
    id: 'cpp-modern-218',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Check std::expected Has Value (C++23)',
    text: 'Check if the expected contains a value',
    setup: 'std::expected<int, std::string> result = 42;',
    setupCode: 'std::expected<int, std::string> result = 42;',
    expected: 'true',
    sample: 'result.has_value()',
    hints: ['has_value() returns true if expected contains a value'],
    tags: ['expected', 'has_value', 'c++23', 'modern'],
  },
  {
    id: 'cpp-modern-219',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Get std::expected Error (C++23)',
    text: 'Get the error from an expected in error state',
    setup: 'std::expected<int, std::string> result = std::unexpected("failed");',
    setupCode: 'std::expected<int, std::string> result = std::unexpected("failed");',
    expected: '"failed"',
    sample: 'result.error()',
    hints: ['error() returns the contained error'],
    tags: ['expected', 'error', 'c++23', 'modern'],
  },

  // ============================================================
  // Ranges (C++20)
  // ============================================================
  {
    id: 'cpp-ranges-220',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Filter with views::filter',
    text: 'Filter the vector to keep only even numbers using views::filter',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: 'view of {2, 4, 6}',
    sample: 'auto evens = nums | std::views::filter([](int x) { return x % 2 == 0; });',
    hints: ['views::filter creates a lazy filtered view'],
    tags: ['ranges', 'views', 'filter', 'c++20'],
  },
  {
    id: 'cpp-ranges-221',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Transform with views::transform',
    text: 'Transform the vector to double each element using views::transform',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {2, 4, 6, 8, 10}',
    sample: 'auto doubled = nums | std::views::transform([](int x) { return x * 2; });',
    hints: ['views::transform creates a lazy transformed view'],
    tags: ['ranges', 'views', 'transform', 'c++20'],
  },
  {
    id: 'cpp-ranges-222',
    category: 'Ranges',
    difficulty: 'easy',
    title: 'Take First N Elements',
    text: 'Take the first 3 elements from the vector using views::take',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {1, 2, 3}',
    sample: 'auto first3 = nums | std::views::take(3);',
    hints: ['views::take creates a view of the first n elements'],
    tags: ['ranges', 'views', 'take', 'c++20'],
  },
  {
    id: 'cpp-ranges-223',
    category: 'Ranges',
    difficulty: 'easy',
    title: 'Drop First N Elements',
    text: 'Skip the first 2 elements from the vector using views::drop',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {3, 4, 5}',
    sample: 'auto after2 = nums | std::views::drop(2);',
    hints: ['views::drop creates a view without the first n elements'],
    tags: ['ranges', 'views', 'drop', 'c++20'],
  },
  {
    id: 'cpp-ranges-224',
    category: 'Ranges',
    difficulty: 'easy',
    title: 'Reverse View',
    text: 'Create a reversed view of the vector using views::reverse',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {5, 4, 3, 2, 1}',
    sample: 'auto rev = nums | std::views::reverse;',
    hints: ['views::reverse creates a reversed view'],
    tags: ['ranges', 'views', 'reverse', 'c++20'],
  },
  {
    id: 'cpp-ranges-225',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Chain Multiple Views',
    text: 'Filter even numbers and then double them using chained views',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: 'view of {4, 8, 12}',
    sample:
      'auto result = nums | std::views::filter([](int x) { return x % 2 == 0; }) | std::views::transform([](int x) { return x * 2; });',
    hints: ['Views can be chained with the pipe operator'],
    tags: ['ranges', 'views', 'chaining', 'c++20'],
  },
  {
    id: 'cpp-ranges-226',
    category: 'Ranges',
    difficulty: 'easy',
    title: 'Generate Iota Range',
    text: 'Create a range of integers from 1 to 5 using views::iota',
    setup: '',
    setupCode: '',
    expected: 'view of {1, 2, 3, 4, 5}',
    sample: 'auto range = std::views::iota(1, 6);',
    hints: ['views::iota generates a sequence of incrementing values'],
    tags: ['ranges', 'views', 'iota', 'c++20'],
  },
  {
    id: 'cpp-ranges-227',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Take While Condition',
    text: 'Take elements while they are less than 4 using views::take_while',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: 'view of {1, 2, 3}',
    sample: 'auto taken = nums | std::views::take_while([](int x) { return x < 4; });',
    hints: ['views::take_while stops at the first false condition'],
    tags: ['ranges', 'views', 'take_while', 'c++20'],
  },
  {
    id: 'cpp-ranges-228',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Drop While Condition',
    text: 'Skip elements while they are less than 3 using views::drop_while',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {3, 4, 5}',
    sample: 'auto dropped = nums | std::views::drop_while([](int x) { return x < 3; });',
    hints: ['views::drop_while skips until condition is false'],
    tags: ['ranges', 'views', 'drop_while', 'c++20'],
  },
  {
    id: 'cpp-ranges-229',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Keys View from Map',
    text: 'Get a view of just the keys from a map using views::keys',
    setup: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}, {"c", 3}};',
    setupCode: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}, {"c", 3}};',
    expected: 'view of {"a", "b", "c"}',
    sample: 'auto keys = m | std::views::keys;',
    hints: ['views::keys extracts first element of pairs'],
    tags: ['ranges', 'views', 'keys', 'c++20'],
  },
  {
    id: 'cpp-ranges-230',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Values View from Map',
    text: 'Get a view of just the values from a map using views::values',
    setup: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}, {"c", 3}};',
    setupCode: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}, {"c", 3}};',
    expected: 'view of {1, 2, 3}',
    sample: 'auto vals = m | std::views::values;',
    hints: ['views::values extracts second element of pairs'],
    tags: ['ranges', 'views', 'values', 'c++20'],
  },
  {
    id: 'cpp-ranges-231',
    category: 'Ranges',
    difficulty: 'hard',
    title: 'Split String with views::split',
    text: 'Split a string by spaces using views::split',
    setup: 'std::string str = "hello world cpp";',
    setupCode: 'std::string str = "hello world cpp";',
    expected: 'view of subranges',
    sample: "auto words = str | std::views::split(' ');",
    hints: ['views::split splits a range by a delimiter'],
    tags: ['ranges', 'views', 'split', 'c++20'],
  },
  {
    id: 'cpp-ranges-232',
    category: 'Ranges',
    difficulty: 'hard',
    title: 'Join Ranges with views::join',
    text: 'Flatten a vector of vectors using views::join',
    setup: 'std::vector<std::vector<int>> nested = {{1, 2}, {3, 4}, {5, 6}};',
    setupCode: 'std::vector<std::vector<int>> nested = {{1, 2}, {3, 4}, {5, 6}};',
    expected: 'view of {1, 2, 3, 4, 5, 6}',
    sample: 'auto flat = nested | std::views::join;',
    hints: ['views::join flattens nested ranges'],
    tags: ['ranges', 'views', 'join', 'c++20'],
  },
  {
    id: 'cpp-ranges-233',
    category: 'Ranges',
    difficulty: 'easy',
    title: 'All View',
    text: 'Create a view of all elements using views::all',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {1, 2, 3, 4, 5}',
    sample: 'auto all = std::views::all(nums);',
    hints: ['views::all creates a view of the entire range'],
    tags: ['ranges', 'views', 'all', 'c++20'],
  },
  {
    id: 'cpp-ranges-234',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Enumerate View (C++23)',
    text: 'Create an enumerated view with indices using views::enumerate',
    setup: 'std::vector<std::string> words = {"a", "b", "c"};',
    setupCode: 'std::vector<std::string> words = {"a", "b", "c"};',
    expected: 'view of {(0,"a"), (1,"b"), (2,"c")}',
    sample: 'auto indexed = words | std::views::enumerate;',
    hints: ['views::enumerate adds indices to elements (C++23)'],
    tags: ['ranges', 'views', 'enumerate', 'c++23'],
  },

  // ============================================================
  // Lambda Expressions
  // ============================================================
  {
    id: 'cpp-lambda-235',
    category: 'Lambda Expressions',
    difficulty: 'easy',
    title: 'Simple Lambda',
    text: 'Create a lambda that adds two integers',
    setup: '',
    setupCode: '',
    expected: 'lambda returning sum',
    sample: 'auto add = [](int a, int b) { return a + b; };',
    hints: ['Lambdas are anonymous function objects'],
    tags: ['lambda', 'basics'],
  },
  {
    id: 'cpp-lambda-236',
    category: 'Lambda Expressions',
    difficulty: 'easy',
    title: 'Lambda with Capture by Value',
    text: 'Create a lambda that captures x by value and returns x + y',
    setup: 'int x = 10;',
    setupCode: 'int x = 10;',
    expected: 'lambda returning x + y',
    sample: 'auto add_x = [x](int y) { return x + y; };',
    hints: ['[x] captures x by value'],
    tags: ['lambda', 'capture', 'value'],
  },
  {
    id: 'cpp-lambda-237',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda with Capture by Reference',
    text: 'Create a lambda that captures counter by reference and increments it',
    setup: 'int counter = 0;',
    setupCode: 'int counter = 0;',
    expected: 'lambda that modifies counter',
    sample: 'auto increment = [&counter]() { counter++; };',
    hints: ['[&x] captures x by reference'],
    tags: ['lambda', 'capture', 'reference'],
  },
  {
    id: 'cpp-lambda-238',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda Capture All by Value',
    text: 'Create a lambda that captures all variables by value',
    setup: 'int a = 1, b = 2;',
    setupCode: 'int a = 1, b = 2;',
    expected: 'lambda capturing a and b by value',
    sample: 'auto sum = [=]() { return a + b; };',
    hints: ['[=] captures all referenced variables by value'],
    tags: ['lambda', 'capture', 'all_by_value'],
  },
  {
    id: 'cpp-lambda-239',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda Capture All by Reference',
    text: 'Create a lambda that captures all variables by reference',
    setup: 'int a = 1, b = 2;',
    setupCode: 'int a = 1, b = 2;',
    expected: 'lambda capturing a and b by reference',
    sample: 'auto swap_ab = [&]() { std::swap(a, b); };',
    hints: ['[&] captures all referenced variables by reference'],
    tags: ['lambda', 'capture', 'all_by_reference'],
  },
  {
    id: 'cpp-lambda-240',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda with Mutable',
    text: 'Create a lambda that can modify its captured-by-value variable',
    setup: 'int x = 0;',
    setupCode: 'int x = 0;',
    expected: 'lambda with mutable capture',
    sample: 'auto counter = [x]() mutable { return ++x; };',
    hints: ['mutable allows modifying by-value captures'],
    tags: ['lambda', 'mutable'],
  },
  {
    id: 'cpp-lambda-241',
    category: 'Lambda Expressions',
    difficulty: 'easy',
    title: 'Generic Lambda',
    text: 'Create a generic lambda that works with any type using auto',
    setup: '',
    setupCode: '',
    expected: 'generic lambda',
    sample: 'auto print = [](auto x) { std::cout << x; };',
    hints: ['auto parameters create generic lambdas (C++14)'],
    tags: ['lambda', 'generic', 'auto', 'c++14'],
  },
  {
    id: 'cpp-lambda-242',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda with Explicit Return Type',
    text: 'Create a lambda with explicit return type double',
    setup: '',
    setupCode: '',
    expected: 'lambda returning double',
    sample: 'auto divide = [](int a, int b) -> double { return static_cast<double>(a) / b; };',
    hints: ['Use -> type to specify return type'],
    tags: ['lambda', 'return_type'],
  },
  {
    id: 'cpp-lambda-243',
    category: 'Lambda Expressions',
    difficulty: 'hard',
    title: 'Lambda Init Capture (C++14)',
    text: 'Create a lambda with init capture to move a unique_ptr',
    setup: 'auto ptr = std::make_unique<int>(42);',
    setupCode: 'auto ptr = std::make_unique<int>(42);',
    expected: 'lambda owning the unique_ptr',
    sample: 'auto fn = [p = std::move(ptr)]() { return *p; };',
    hints: ['Init capture allows moving into lambda (C++14)'],
    tags: ['lambda', 'init_capture', 'c++14'],
  },
  {
    id: 'cpp-lambda-244',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Constexpr Lambda (C++17)',
    text: 'Create a constexpr lambda that computes factorial',
    setup: '',
    setupCode: '',
    expected: 'compile-time evaluable lambda',
    sample:
      'constexpr auto factorial = [](int n) constexpr {\n  int result = 1;\n  for (int i = 1; i <= n; ++i) result *= i;\n  return result;\n};',
    hints: ['constexpr lambdas can be evaluated at compile time'],
    tags: ['lambda', 'constexpr', 'c++17'],
  },
  {
    id: 'cpp-lambda-245',
    category: 'Lambda Expressions',
    difficulty: 'hard',
    title: 'Lambda with Template Parameter (C++20)',
    text: 'Create a lambda with explicit template parameter',
    setup: '',
    setupCode: '',
    expected: 'templated lambda',
    sample: 'auto typed = []<typename T>(T x) { return x * x; };',
    hints: ['C++20 allows explicit template parameters on lambdas'],
    tags: ['lambda', 'template', 'c++20'],
  },
  {
    id: 'cpp-lambda-246',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Immediately Invoked Lambda',
    text: 'Create and immediately invoke a lambda (IIFE pattern)',
    setup: '',
    setupCode: '',
    expected: '42',
    sample: 'int result = []() { return 42; }();',
    hints: ['Add () after the lambda to immediately invoke it'],
    tags: ['lambda', 'iife'],
  },
  {
    id: 'cpp-lambda-247',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'Lambda Capturing this',
    text: 'Create a lambda inside a class that captures this pointer',
    setup: 'struct S { int x = 42; auto fn() { return [this]() { return x; }; } };',
    setupCode: 'struct S { int x = 42; auto fn() { return [this]() { return x; }; } };',
    expected: 'lambda accessing member x',
    sample: 'S s; auto f = s.fn();',
    hints: ['[this] captures the this pointer'],
    tags: ['lambda', 'this', 'capture'],
  },
  {
    id: 'cpp-lambda-248',
    category: 'Lambda Expressions',
    difficulty: 'hard',
    title: 'Lambda Capturing *this by Value (C++17)',
    text: 'Create a lambda that captures a copy of the object',
    setup: 'struct S { int x = 42; auto fn() { return [*this]() { return x; }; } };',
    setupCode: 'struct S { int x = 42; auto fn() { return [*this]() { return x; }; } };',
    expected: 'lambda with copy of object',
    sample: 'S s; auto f = s.fn();',
    hints: ['[*this] captures a copy of the object (C++17)'],
    tags: ['lambda', 'this', 'copy', 'c++17'],
  },
  {
    id: 'cpp-lambda-249',
    category: 'Lambda Expressions',
    difficulty: 'medium',
    title: 'noexcept Lambda',
    text: 'Create a noexcept lambda that cannot throw',
    setup: '',
    setupCode: '',
    expected: 'noexcept lambda',
    sample: 'auto safe = [](int x) noexcept { return x * 2; };',
    hints: ['noexcept guarantees no exception will be thrown'],
    tags: ['lambda', 'noexcept'],
  },

  // ============================================================
  // Templates
  // ============================================================
  {
    id: 'cpp-template-250',
    category: 'Templates',
    difficulty: 'easy',
    title: 'Simple Function Template',
    text: 'Create a function template that returns the maximum of two values',
    setup: '',
    setupCode: '',
    expected: 'template returning max',
    sample: 'template<typename T>\nT max_val(T a, T b) { return (a > b) ? a : b; }',
    hints: ['Use typename or class for template parameter'],
    tags: ['template', 'function_template'],
  },
  {
    id: 'cpp-template-251',
    category: 'Templates',
    difficulty: 'easy',
    title: 'Call Function Template',
    text: 'Call the max function template with explicit type',
    setup: 'template<typename T> T max_val(T a, T b) { return (a > b) ? a : b; }',
    setupCode: 'template<typename T> T max_val(T a, T b) { return (a > b) ? a : b; }',
    expected: '10',
    sample: 'max_val<int>(5, 10)',
    hints: ['Use angle brackets to specify the type explicitly'],
    tags: ['template', 'explicit_instantiation'],
  },
  {
    id: 'cpp-template-252',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Class Template',
    text: 'Create a simple class template for a pair of values',
    setup: '',
    setupCode: '',
    expected: 'class template for pair',
    sample: 'template<typename T, typename U>\nstruct Pair {\n  T first;\n  U second;\n};',
    hints: ['Class templates can have multiple type parameters'],
    tags: ['template', 'class_template'],
  },
  {
    id: 'cpp-template-253',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Template with Default Parameter',
    text: 'Create a template with a default type parameter',
    setup: '',
    setupCode: '',
    expected: 'template with default int',
    sample: 'template<typename T = int>\nstruct Container { T value; };',
    hints: ['Default template parameters work like default function arguments'],
    tags: ['template', 'default_parameter'],
  },
  {
    id: 'cpp-template-254',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Non-Type Template Parameter',
    text: 'Create a template with a non-type (integer) parameter',
    setup: '',
    setupCode: '',
    expected: 'template with size parameter',
    sample: 'template<typename T, std::size_t N>\nstruct Array { T data[N]; };',
    hints: ['Non-type parameters can be integral constants'],
    tags: ['template', 'non_type_parameter'],
  },
  {
    id: 'cpp-template-255',
    category: 'Templates',
    difficulty: 'hard',
    title: 'Template Template Parameter',
    text: 'Create a template that takes a container template as parameter',
    setup: '',
    setupCode: '',
    expected: 'template template parameter',
    sample:
      'template<template<typename> class Container, typename T>\nstruct Wrapper { Container<T> data; };',
    hints: ['Template template parameters accept templates as arguments'],
    tags: ['template', 'template_template'],
  },
  {
    id: 'cpp-template-256',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Variadic Template',
    text: 'Create a variadic template that counts its arguments',
    setup: '',
    setupCode: '',
    expected: 'sizeof...(args)',
    sample:
      'template<typename... Args>\nconstexpr std::size_t count_args(Args...) { return sizeof...(Args); }',
    hints: ['sizeof...(Args) returns the number of template arguments'],
    tags: ['template', 'variadic'],
  },
  {
    id: 'cpp-template-257',
    category: 'Templates',
    difficulty: 'hard',
    title: 'Fold Expression (C++17)',
    text: 'Create a variadic template that sums all arguments using fold expression',
    setup: '',
    setupCode: '',
    expected: 'sum of all args',
    sample: 'template<typename... Args>\nauto sum(Args... args) { return (... + args); }',
    hints: ['Fold expressions simplify variadic template operations (C++17)'],
    tags: ['template', 'fold_expression', 'c++17'],
  },
  {
    id: 'cpp-template-258',
    category: 'Templates',
    difficulty: 'hard',
    title: 'SFINAE with enable_if',
    text: 'Create a template enabled only for integral types using enable_if',
    setup: '',
    setupCode: '',
    expected: 'template for integrals only',
    sample:
      'template<typename T, typename = std::enable_if_t<std::is_integral_v<T>>>\nT double_val(T x) { return x * 2; }',
    hints: ['enable_if disables template instantiation when condition is false'],
    tags: ['template', 'sfinae', 'enable_if'],
  },
  {
    id: 'cpp-template-259',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Template Specialization',
    text: 'Create a template specialization for bool type',
    setup:
      'template<typename T> struct TypeName { static const char* name() { return "unknown"; } };',
    setupCode:
      'template<typename T> struct TypeName { static const char* name() { return "unknown"; } };',
    expected: 'specialized for bool',
    sample: 'template<> struct TypeName<bool> { static const char* name() { return "bool"; } };',
    hints: ['Use template<> for full specialization'],
    tags: ['template', 'specialization'],
  },
  {
    id: 'cpp-template-260',
    category: 'Templates',
    difficulty: 'hard',
    title: 'Partial Template Specialization',
    text: 'Create a partial specialization for pointer types',
    setup: 'template<typename T> struct IsPointer { static constexpr bool value = false; };',
    setupCode: 'template<typename T> struct IsPointer { static constexpr bool value = false; };',
    expected: 'true for pointer types',
    sample: 'template<typename T> struct IsPointer<T*> { static constexpr bool value = true; };',
    hints: ['Partial specialization allows specializing for a pattern'],
    tags: ['template', 'partial_specialization'],
  },
  {
    id: 'cpp-template-261',
    category: 'Templates',
    difficulty: 'medium',
    title: 'if constexpr (C++17)',
    text: 'Use if constexpr for compile-time branching',
    setup: '',
    setupCode: '',
    expected: 'compile-time conditional',
    sample:
      'template<typename T>\nauto process(T x) {\n  if constexpr (std::is_integral_v<T>) return x * 2;\n  else return x;\n}',
    hints: ['if constexpr evaluates at compile time (C++17)'],
    tags: ['template', 'if_constexpr', 'c++17'],
  },
  {
    id: 'cpp-template-262',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Type Traits - is_same',
    text: 'Check if two types are the same using std::is_same',
    setup: '',
    setupCode: '',
    expected: 'true',
    sample: 'std::is_same_v<int, int>',
    hints: ['is_same_v is the value shortcut for is_same::value'],
    tags: ['template', 'type_traits', 'is_same'],
  },
  {
    id: 'cpp-template-263',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Type Traits - remove_const',
    text: 'Remove const qualification from a type',
    setup: '',
    setupCode: '',
    expected: 'int (without const)',
    sample: 'using T = std::remove_const_t<const int>;',
    hints: ['remove_const_t removes const from the type'],
    tags: ['template', 'type_traits', 'remove_const'],
  },
  {
    id: 'cpp-template-264',
    category: 'Templates',
    difficulty: 'medium',
    title: 'Type Traits - decay',
    text: 'Get the decayed type (removes references, cv-qualifiers, array-to-pointer)',
    setup: '',
    setupCode: '',
    expected: 'int',
    sample: 'using T = std::decay_t<const int&>;',
    hints: ['decay simulates pass-by-value type transformation'],
    tags: ['template', 'type_traits', 'decay'],
  },
  {
    id: 'cpp-template-265',
    category: 'Templates',
    difficulty: 'hard',
    title: 'CRTP Pattern',
    text: 'Implement the Curiously Recurring Template Pattern',
    setup: '',
    setupCode: '',
    expected: 'CRTP base class',
    sample:
      'template<typename Derived>\nstruct Base {\n  void interface() { static_cast<Derived*>(this)->impl(); }\n};',
    hints: ['CRTP allows static polymorphism'],
    tags: ['template', 'crtp', 'pattern'],
  },
  {
    id: 'cpp-template-266',
    category: 'Templates',
    difficulty: 'medium',
    title: 'decltype with Expression',
    text: 'Use decltype to deduce the return type of an expression',
    setup: 'int x = 5; double y = 3.14;',
    setupCode: 'int x = 5; double y = 3.14;',
    expected: 'double',
    sample: 'decltype(x + y) result = x + y;',
    hints: ['decltype deduces the type of an expression'],
    tags: ['template', 'decltype'],
  },
  {
    id: 'cpp-template-267',
    category: 'Templates',
    difficulty: 'hard',
    title: 'auto Return Type Deduction',
    text: 'Create a function with trailing return type using decltype',
    setup: '',
    setupCode: '',
    expected: 'trailing return type',
    sample:
      'template<typename T, typename U>\nauto add(T t, U u) -> decltype(t + u) { return t + u; }',
    hints: ['Trailing return type allows using parameters in decltype'],
    tags: ['template', 'trailing_return', 'decltype'],
  },

  // ============================================================
  // Concepts (C++20)
  // ============================================================
  {
    id: 'cpp-concept-268',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'Simple Concept Definition',
    text: 'Define a concept that requires a type to be integral',
    setup: '',
    setupCode: '',
    expected: 'Integral concept',
    sample: 'template<typename T>\nconcept Integral = std::is_integral_v<T>;',
    hints: ['Concepts define requirements on template parameters (C++20)'],
    tags: ['concept', 'c++20'],
  },
  {
    id: 'cpp-concept-269',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'Use Concept in Function',
    text: 'Use a concept to constrain a function template',
    setup: 'template<typename T> concept Integral = std::is_integral_v<T>;',
    setupCode: 'template<typename T> concept Integral = std::is_integral_v<T>;',
    expected: 'constrained function',
    sample: 'template<Integral T>\nT double_val(T x) { return x * 2; }',
    hints: ['Use concept name instead of typename'],
    tags: ['concept', 'constraint', 'c++20'],
  },
  {
    id: 'cpp-concept-270',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'Requires Clause',
    text: 'Use requires clause to constrain a template',
    setup: '',
    setupCode: '',
    expected: 'requires constraint',
    sample:
      'template<typename T> requires std::is_integral_v<T>\nT double_val(T x) { return x * 2; }',
    hints: ['requires clause adds constraints after template parameters'],
    tags: ['concept', 'requires', 'c++20'],
  },
  {
    id: 'cpp-concept-271',
    category: 'Concepts',
    difficulty: 'hard',
    title: 'Requires Expression',
    text: 'Create a concept with a requires expression',
    setup: '',
    setupCode: '',
    expected: 'concept with requirements',
    sample:
      'template<typename T>\nconcept Addable = requires(T a, T b) {\n  { a + b } -> std::convertible_to<T>;\n};',
    hints: ['Requires expressions check if operations are valid'],
    tags: ['concept', 'requires_expression', 'c++20'],
  },
  {
    id: 'cpp-concept-272',
    category: 'Concepts',
    difficulty: 'hard',
    title: 'Compound Requirements',
    text: 'Create a concept checking multiple operations',
    setup: '',
    setupCode: '',
    expected: 'compound requirements',
    sample:
      'template<typename T>\nconcept Container = requires(T c) {\n  c.begin();\n  c.end();\n  c.size();\n  typename T::value_type;\n};',
    hints: ['Compound requirements can check multiple expressions'],
    tags: ['concept', 'compound', 'c++20'],
  },
  {
    id: 'cpp-concept-273',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'Use Standard Concept',
    text: 'Use std::integral concept from <concepts>',
    setup: '',
    setupCode: '',
    expected: 'using std::integral',
    sample: 'template<std::integral T>\nT increment(T x) { return x + 1; }',
    hints: ['Standard library provides common concepts'],
    tags: ['concept', 'std::integral', 'c++20'],
  },
  {
    id: 'cpp-concept-274',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'std::same_as Concept',
    text: 'Use std::same_as to constrain type equality',
    setup: '',
    setupCode: '',
    expected: 'same_as constraint',
    sample: 'template<typename T> requires std::same_as<T, int>\nvoid process(T x) {}',
    hints: ['std::same_as checks if types are identical'],
    tags: ['concept', 'same_as', 'c++20'],
  },
  {
    id: 'cpp-concept-275',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'std::derived_from Concept',
    text: 'Use std::derived_from to check inheritance',
    setup: 'struct Base {}; struct Derived : Base {};',
    setupCode: 'struct Base {}; struct Derived : Base {};',
    expected: 'true',
    sample: 'std::derived_from<Derived, Base>',
    hints: ['std::derived_from checks class hierarchy'],
    tags: ['concept', 'derived_from', 'c++20'],
  },
  {
    id: 'cpp-concept-276',
    category: 'Concepts',
    difficulty: 'hard',
    title: 'Concept Conjunction',
    text: 'Combine multiple concepts with &&',
    setup: '',
    setupCode: '',
    expected: 'combined concept',
    sample:
      'template<typename T>\nconcept SignedInteger = std::integral<T> && std::signed_integral<T>;',
    hints: ['Concepts can be combined with logical operators'],
    tags: ['concept', 'conjunction', 'c++20'],
  },
  {
    id: 'cpp-concept-277',
    category: 'Concepts',
    difficulty: 'hard',
    title: 'Concept Disjunction',
    text: 'Create a concept that accepts int or double',
    setup: '',
    setupCode: '',
    expected: 'disjunction concept',
    sample:
      'template<typename T>\nconcept Number = std::same_as<T, int> || std::same_as<T, double>;',
    hints: ['Use || for concept disjunction'],
    tags: ['concept', 'disjunction', 'c++20'],
  },
  {
    id: 'cpp-concept-278',
    category: 'Concepts',
    difficulty: 'medium',
    title: 'Abbreviated Function Template',
    text: 'Use auto with concept for abbreviated syntax',
    setup: '',
    setupCode: '',
    expected: 'abbreviated template',
    sample: 'void print(std::integral auto x) { std::cout << x; }',
    hints: ['Concept auto creates abbreviated function templates'],
    tags: ['concept', 'abbreviated', 'c++20'],
  },

  // ============================================================
  // Iterators
  // ============================================================
  {
    id: 'cpp-iter-279',
    category: 'Iterators',
    difficulty: 'easy',
    title: 'Iterator Begin and End',
    text: 'Get iterators to the beginning and end of a vector',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'begin and end iterators',
    sample: 'auto it_begin = nums.begin();\nauto it_end = nums.end();',
    hints: ['begin() points to first element, end() points past last'],
    tags: ['iterator', 'begin', 'end'],
  },
  {
    id: 'cpp-iter-280',
    category: 'Iterators',
    difficulty: 'easy',
    title: 'Iterate with Iterator',
    text: 'Iterate through vector using iterator',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: 'prints all elements',
    sample: 'for (auto it = nums.begin(); it != nums.end(); ++it) {\n  std::cout << *it << " ";\n}',
    hints: ['Dereference iterator with * to access value'],
    tags: ['iterator', 'loop'],
  },
  {
    id: 'cpp-iter-281',
    category: 'Iterators',
    difficulty: 'easy',
    title: 'Reverse Iterators',
    text: 'Get reverse iterators to iterate backwards',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'reverse iteration',
    sample:
      'for (auto it = nums.rbegin(); it != nums.rend(); ++it) {\n  std::cout << *it << " ";\n}',
    hints: ['rbegin() and rend() provide reverse iteration'],
    tags: ['iterator', 'reverse', 'rbegin', 'rend'],
  },
  {
    id: 'cpp-iter-282',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Const Iterators',
    text: 'Get const iterators for read-only access',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: 'const iterators',
    sample: 'auto cit = nums.cbegin();',
    hints: ['cbegin() and cend() return const_iterator'],
    tags: ['iterator', 'const', 'cbegin'],
  },
  {
    id: 'cpp-iter-283',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Iterator Arithmetic',
    text: 'Move iterator forward by 3 positions',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'iterator to 4th element',
    sample: 'auto it = nums.begin() + 3;',
    hints: ['Random access iterators support arithmetic'],
    tags: ['iterator', 'arithmetic'],
  },
  {
    id: 'cpp-iter-284',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'std::advance',
    text: 'Advance an iterator by n positions using std::advance',
    setup: 'std::list<int> lst = {1, 2, 3, 4, 5};\nauto it = lst.begin();',
    setupCode: 'std::list<int> lst = {1, 2, 3, 4, 5};\nauto it = lst.begin();',
    expected: 'iterator moved forward',
    sample: 'std::advance(it, 3);',
    hints: ['std::advance works with any iterator category'],
    tags: ['iterator', 'advance'],
  },
  {
    id: 'cpp-iter-285',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'std::next',
    text: 'Get an iterator n positions ahead without modifying original',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nauto it = nums.begin();',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nauto it = nums.begin();',
    expected: 'new iterator 2 positions ahead',
    sample: 'auto next_it = std::next(it, 2);',
    hints: ['std::next returns a new iterator without modifying the original'],
    tags: ['iterator', 'next'],
  },
  {
    id: 'cpp-iter-286',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'std::prev',
    text: 'Get an iterator n positions behind',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nauto it = nums.end();',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nauto it = nums.end();',
    expected: 'iterator to last element',
    sample: 'auto prev_it = std::prev(it);',
    hints: ['std::prev moves iterator backwards'],
    tags: ['iterator', 'prev'],
  },
  {
    id: 'cpp-iter-287',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'std::distance',
    text: 'Calculate the distance between two iterators',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '5',
    sample: 'auto dist = std::distance(nums.begin(), nums.end());',
    hints: ['std::distance returns number of increments needed'],
    tags: ['iterator', 'distance'],
  },
  {
    id: 'cpp-iter-288',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Back Insert Iterator',
    text: 'Create a back_insert_iterator for appending',
    setup: 'std::vector<int> dest;',
    setupCode: 'std::vector<int> dest;',
    expected: 'back inserter',
    sample: 'auto back_it = std::back_inserter(dest);',
    hints: ['back_inserter creates iterator that calls push_back'],
    tags: ['iterator', 'back_inserter'],
  },
  {
    id: 'cpp-iter-289',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Front Insert Iterator',
    text: 'Create a front_insert_iterator for prepending',
    setup: 'std::deque<int> dest;',
    setupCode: 'std::deque<int> dest;',
    expected: 'front inserter',
    sample: 'auto front_it = std::front_inserter(dest);',
    hints: ['front_inserter creates iterator that calls push_front'],
    tags: ['iterator', 'front_inserter'],
  },
  {
    id: 'cpp-iter-290',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Insert Iterator',
    text: 'Create an insert_iterator for inserting at a position',
    setup: 'std::vector<int> dest = {1, 5};',
    setupCode: 'std::vector<int> dest = {1, 5};',
    expected: 'insert iterator',
    sample: 'auto ins_it = std::inserter(dest, dest.begin() + 1);',
    hints: ['inserter creates iterator that inserts at given position'],
    tags: ['iterator', 'inserter'],
  },
  {
    id: 'cpp-iter-291',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Stream Iterator for Input',
    text: 'Create an istream_iterator to read from cin',
    setup: '',
    setupCode: '',
    expected: 'input stream iterator',
    sample: 'std::istream_iterator<int> in_it(std::cin);',
    hints: ['istream_iterator reads from input streams'],
    tags: ['iterator', 'istream_iterator'],
  },
  {
    id: 'cpp-iter-292',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Stream Iterator for Output',
    text: 'Create an ostream_iterator to write to cout with separator',
    setup: '',
    setupCode: '',
    expected: 'output stream iterator',
    sample: 'std::ostream_iterator<int> out_it(std::cout, ", ");',
    hints: ['ostream_iterator writes to output streams with optional separator'],
    tags: ['iterator', 'ostream_iterator'],
  },
  {
    id: 'cpp-iter-293',
    category: 'Iterators',
    difficulty: 'hard',
    title: 'Custom Iterator Class',
    text: 'Create a simple forward iterator for a custom container',
    setup: '',
    setupCode: '',
    expected: 'custom iterator',
    sample:
      'struct MyIterator {\n  using iterator_category = std::forward_iterator_tag;\n  using value_type = int;\n  using difference_type = std::ptrdiff_t;\n  using pointer = int*;\n  using reference = int&;\n  int* ptr;\n  reference operator*() { return *ptr; }\n  MyIterator& operator++() { ++ptr; return *this; }\n  bool operator!=(const MyIterator& other) { return ptr != other.ptr; }\n};',
    hints: ['Custom iterators need specific type aliases and operators'],
    tags: ['iterator', 'custom', 'forward_iterator'],
  },
  {
    id: 'cpp-iter-294',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Move Iterator',
    text: 'Create a move_iterator to move elements during copy',
    setup: 'std::vector<std::string> src = {"a", "b", "c"};',
    setupCode: 'std::vector<std::string> src = {"a", "b", "c"};',
    expected: 'move iterator',
    sample: 'auto move_it = std::make_move_iterator(src.begin());',
    hints: ['move_iterator converts dereference to rvalue reference'],
    tags: ['iterator', 'move_iterator'],
  },
  {
    id: 'cpp-iter-295',
    category: 'Iterators',
    difficulty: 'hard',
    title: 'Sentinel (C++20)',
    text: 'Use std::default_sentinel with ranges',
    setup: '',
    setupCode: '',
    expected: 'sentinel usage',
    sample: 'auto view = std::views::iota(1) | std::views::take(5);',
    hints: ['C++20 ranges use sentinels for end markers'],
    tags: ['iterator', 'sentinel', 'c++20'],
  },
  {
    id: 'cpp-iter-296',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Iterator Traits',
    text: 'Use iterator_traits to get value_type',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: 'int',
    sample: 'using ValueType = std::iterator_traits<std::vector<int>::iterator>::value_type;',
    hints: ['iterator_traits provides type information about iterators'],
    tags: ['iterator', 'traits'],
  },
  {
    id: 'cpp-iter-297',
    category: 'Iterators',
    difficulty: 'hard',
    title: 'Contiguous Iterator (C++20)',
    text: 'Check if an iterator is contiguous using concepts',
    setup: '',
    setupCode: '',
    expected: 'true for vector iterator',
    sample: 'static_assert(std::contiguous_iterator<std::vector<int>::iterator>);',
    hints: ['contiguous_iterator concept checks for contiguous memory'],
    tags: ['iterator', 'contiguous', 'c++20'],
  },
  {
    id: 'cpp-iter-298',
    category: 'Iterators',
    difficulty: 'medium',
    title: 'Counted Iterator (C++20)',
    text: 'Create a counted iterator that limits iterations',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'iterator limited to 3 elements',
    sample: 'auto counted = std::counted_iterator(nums.begin(), 3);',
    hints: ['counted_iterator tracks remaining count (C++20)'],
    tags: ['iterator', 'counted', 'c++20'],
  },

  // ============================================================
  // Memory Management
  // ============================================================
  {
    id: 'cpp-mem-299',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'Placement New',
    text: 'Construct an object at a specific memory location using placement new',
    setup: 'alignas(int) char buffer[sizeof(int)];',
    setupCode: 'alignas(int) char buffer[sizeof(int)];',
    expected: 'int constructed in buffer',
    sample: 'int* p = new (buffer) int(42);',
    hints: ['Placement new constructs object at specified location'],
    tags: ['memory', 'placement_new'],
  },
  {
    id: 'cpp-mem-300',
    category: 'Memory Management',
    difficulty: 'hard',
    title: 'Custom Allocator',
    text: 'Create a simple custom allocator that uses malloc',
    setup: '',
    setupCode: '',
    expected: 'custom allocator',
    sample:
      'template<typename T>\nstruct SimpleAllocator {\n  using value_type = T;\n  T* allocate(std::size_t n) { return static_cast<T*>(std::malloc(n * sizeof(T))); }\n  void deallocate(T* p, std::size_t) { std::free(p); }\n};',
    hints: ['Allocators must provide allocate() and deallocate()'],
    tags: ['memory', 'allocator'],
  },
  {
    id: 'cpp-mem-301',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'alignof Operator',
    text: 'Get the alignment requirement of a type using alignof',
    setup: '',
    setupCode: '',
    expected: 'alignment of double',
    sample: 'constexpr std::size_t align = alignof(double);',
    hints: ['alignof returns the alignment requirement in bytes'],
    tags: ['memory', 'alignof', 'alignment'],
  },
  {
    id: 'cpp-mem-302',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'alignas Specifier',
    text: 'Create a struct with specific alignment using alignas',
    setup: '',
    setupCode: '',
    expected: 'struct with 64-byte alignment',
    sample: 'struct alignas(64) CacheAligned {\n  int data[16];\n};',
    hints: ['alignas specifies alignment for types or variables'],
    tags: ['memory', 'alignas', 'alignment'],
  },
  {
    id: 'cpp-mem-303',
    category: 'Memory Management',
    difficulty: 'hard',
    title: 'std::align',
    text: 'Align a pointer within a buffer using std::align',
    setup: 'char buffer[256];\nvoid* ptr = buffer;\nstd::size_t space = 256;',
    setupCode: 'char buffer[256];\nvoid* ptr = buffer;\nstd::size_t space = 256;',
    expected: 'aligned pointer',
    sample: 'void* aligned = std::align(alignof(double), sizeof(double), ptr, space);',
    hints: ['std::align adjusts pointer to meet alignment requirement'],
    tags: ['memory', 'align', 'alignment'],
  },
  {
    id: 'cpp-mem-304',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'std::allocator',
    text: 'Use std::allocator to allocate and construct an int',
    setup: 'std::allocator<int> alloc;',
    setupCode: 'std::allocator<int> alloc;',
    expected: 'allocated and constructed int',
    sample:
      'int* p = alloc.allocate(1);\nstd::allocator_traits<std::allocator<int>>::construct(alloc, p, 42);',
    hints: ['Use allocator_traits for portable allocator operations'],
    tags: ['memory', 'allocator', 'construct'],
  },
  {
    id: 'cpp-mem-305',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'Destroy with Allocator',
    text: 'Destroy and deallocate an object using allocator',
    setup:
      'std::allocator<std::string> alloc;\nstd::string* p = alloc.allocate(1);\nstd::allocator_traits<std::allocator<std::string>>::construct(alloc, p, "hello");',
    setupCode:
      'std::allocator<std::string> alloc;\nstd::string* p = alloc.allocate(1);\nstd::allocator_traits<std::allocator<std::string>>::construct(alloc, p, "hello");',
    expected: 'destroyed and deallocated',
    sample:
      'std::allocator_traits<std::allocator<std::string>>::destroy(alloc, p);\nalloc.deallocate(p, 1);',
    hints: ['Always destroy before deallocate'],
    tags: ['memory', 'allocator', 'destroy'],
  },
  {
    id: 'cpp-mem-306',
    category: 'Memory Management',
    difficulty: 'hard',
    title: 'Memory Pool Pattern',
    text: 'Create a simple memory pool for fixed-size objects',
    setup: '',
    setupCode: '',
    expected: 'memory pool allocator',
    sample:
      'template<typename T, std::size_t N>\nclass Pool {\n  alignas(T) char buffer[sizeof(T) * N];\n  bool used[N] = {};\npublic:\n  T* allocate() {\n    for (std::size_t i = 0; i < N; ++i)\n      if (!used[i]) { used[i] = true; return reinterpret_cast<T*>(buffer + i * sizeof(T)); }\n    return nullptr;\n  }\n};',
    hints: ['Memory pools avoid allocation overhead for fixed-size objects'],
    tags: ['memory', 'pool', 'pattern'],
  },
  {
    id: 'cpp-mem-307',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'std::destroy_at',
    text: 'Destroy an object at a location without deallocating',
    setup:
      'alignas(std::string) char buffer[sizeof(std::string)];\nauto* p = new (buffer) std::string("hello");',
    setupCode:
      'alignas(std::string) char buffer[sizeof(std::string)];\nauto* p = new (buffer) std::string("hello");',
    expected: 'object destroyed',
    sample: 'std::destroy_at(p);',
    hints: ['destroy_at calls the destructor without deallocating'],
    tags: ['memory', 'destroy_at'],
  },
  {
    id: 'cpp-mem-308',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'std::construct_at (C++20)',
    text: 'Construct an object at a location using construct_at',
    setup: 'alignas(int) char buffer[sizeof(int)];',
    setupCode: 'alignas(int) char buffer[sizeof(int)];',
    expected: 'object constructed',
    sample: 'int* p = std::construct_at(reinterpret_cast<int*>(buffer), 42);',
    hints: ['construct_at is the constexpr-friendly way to placement new (C++20)'],
    tags: ['memory', 'construct_at', 'c++20'],
  },
  {
    id: 'cpp-mem-309',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'std::uninitialized_copy',
    text: 'Copy elements to uninitialized memory',
    setup:
      'std::vector<std::string> src = {"a", "b", "c"};\nalignas(std::string) char buffer[3 * sizeof(std::string)];',
    setupCode:
      'std::vector<std::string> src = {"a", "b", "c"};\nalignas(std::string) char buffer[3 * sizeof(std::string)];',
    expected: 'strings copied to buffer',
    sample:
      'std::uninitialized_copy(src.begin(), src.end(), reinterpret_cast<std::string*>(buffer));',
    hints: ['uninitialized_copy constructs copies in raw memory'],
    tags: ['memory', 'uninitialized_copy'],
  },
  {
    id: 'cpp-mem-310',
    category: 'Memory Management',
    difficulty: 'medium',
    title: 'std::uninitialized_fill',
    text: 'Fill uninitialized memory with a value',
    setup: 'alignas(int) char buffer[5 * sizeof(int)];',
    setupCode: 'alignas(int) char buffer[5 * sizeof(int)];',
    expected: 'buffer filled with 42s',
    sample: 'std::uninitialized_fill_n(reinterpret_cast<int*>(buffer), 5, 42);',
    hints: ['uninitialized_fill constructs objects with given value'],
    tags: ['memory', 'uninitialized_fill'],
  },

  // ============================================================
  // Threading
  // ============================================================
  {
    id: 'cpp-thread-311',
    category: 'Threading',
    difficulty: 'easy',
    title: 'Create and Join Thread',
    text: 'Create a thread that prints a message and join it',
    setup: '',
    setupCode: '',
    expected: 'thread executes and joins',
    sample: 'std::thread t([]() { std::cout << "Hello from thread!"; });\nt.join();',
    hints: ['Always join or detach threads before they are destroyed'],
    tags: ['thread', 'join'],
  },
  {
    id: 'cpp-thread-312',
    category: 'Threading',
    difficulty: 'easy',
    title: 'Detach Thread',
    text: 'Create and detach a thread to run independently',
    setup: '',
    setupCode: '',
    expected: 'thread runs independently',
    sample: 'std::thread t([]() { /* work */ });\nt.detach();',
    hints: ['Detached threads run independently of the creating thread'],
    tags: ['thread', 'detach'],
  },
  {
    id: 'cpp-thread-313',
    category: 'Threading',
    difficulty: 'easy',
    title: 'Get Thread ID',
    text: 'Get the ID of the current thread',
    setup: '',
    setupCode: '',
    expected: 'thread id',
    sample: 'std::thread::id id = std::this_thread::get_id();',
    hints: ['Each thread has a unique ID'],
    tags: ['thread', 'id'],
  },
  {
    id: 'cpp-thread-314',
    category: 'Threading',
    difficulty: 'easy',
    title: 'Sleep Thread',
    text: 'Make the current thread sleep for 100 milliseconds',
    setup: '',
    setupCode: '',
    expected: 'thread sleeps',
    sample: 'std::this_thread::sleep_for(std::chrono::milliseconds(100));',
    hints: ['Use chrono durations with sleep_for'],
    tags: ['thread', 'sleep_for'],
  },
  {
    id: 'cpp-thread-315',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Mutex Lock',
    text: 'Protect shared data with a mutex',
    setup: 'std::mutex mtx;\nint counter = 0;',
    setupCode: 'std::mutex mtx;\nint counter = 0;',
    expected: 'thread-safe increment',
    sample: '{\n  std::lock_guard<std::mutex> lock(mtx);\n  ++counter;\n}',
    hints: ['lock_guard provides RAII-style mutex management'],
    tags: ['thread', 'mutex', 'lock_guard'],
  },
  {
    id: 'cpp-thread-316',
    category: 'Threading',
    difficulty: 'medium',
    title: 'unique_lock',
    text: 'Use unique_lock for flexible mutex management',
    setup: 'std::mutex mtx;',
    setupCode: 'std::mutex mtx;',
    expected: 'flexible lock',
    sample:
      'std::unique_lock<std::mutex> lock(mtx);\n// can unlock and relock\nlock.unlock();\nlock.lock();',
    hints: ['unique_lock allows manual lock/unlock operations'],
    tags: ['thread', 'mutex', 'unique_lock'],
  },
  {
    id: 'cpp-thread-317',
    category: 'Threading',
    difficulty: 'hard',
    title: 'Condition Variable',
    text: 'Use condition_variable for thread synchronization',
    setup: 'std::mutex mtx;\nstd::condition_variable cv;\nbool ready = false;',
    setupCode: 'std::mutex mtx;\nstd::condition_variable cv;\nbool ready = false;',
    expected: 'thread waits for condition',
    sample: 'std::unique_lock<std::mutex> lock(mtx);\ncv.wait(lock, []{ return ready; });',
    hints: ['condition_variable requires unique_lock'],
    tags: ['thread', 'condition_variable'],
  },
  {
    id: 'cpp-thread-318',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Notify Condition Variable',
    text: 'Notify waiting threads using condition_variable',
    setup: 'std::mutex mtx;\nstd::condition_variable cv;\nbool ready = false;',
    setupCode: 'std::mutex mtx;\nstd::condition_variable cv;\nbool ready = false;',
    expected: 'wake up waiting thread',
    sample: '{\n  std::lock_guard<std::mutex> lock(mtx);\n  ready = true;\n}\ncv.notify_one();',
    hints: ['notify_one wakes one waiting thread, notify_all wakes all'],
    tags: ['thread', 'condition_variable', 'notify'],
  },
  {
    id: 'cpp-thread-319',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Async Task',
    text: 'Launch an async task that returns a value',
    setup: '',
    setupCode: '',
    expected: 'future with result',
    sample: 'auto future = std::async(std::launch::async, []() { return 42; });',
    hints: ['std::async returns a future with the result'],
    tags: ['thread', 'async', 'future'],
  },
  {
    id: 'cpp-thread-320',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Get Future Value',
    text: 'Get the result from a future, blocking if necessary',
    setup: 'auto future = std::async(std::launch::async, []() { return 42; });',
    setupCode: 'auto future = std::async(std::launch::async, []() { return 42; });',
    expected: '42',
    sample: 'int result = future.get();',
    hints: ['get() blocks until the result is ready'],
    tags: ['thread', 'future', 'get'],
  },
  {
    id: 'cpp-thread-321',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Promise and Future',
    text: 'Use promise to set a value for a future',
    setup: 'std::promise<int> prom;\nstd::future<int> fut = prom.get_future();',
    setupCode: 'std::promise<int> prom;\nstd::future<int> fut = prom.get_future();',
    expected: 'value set and retrieved',
    sample: 'prom.set_value(42);\nint result = fut.get();',
    hints: ['promise allows setting the value from a different thread'],
    tags: ['thread', 'promise', 'future'],
  },
  {
    id: 'cpp-thread-322',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Atomic Variable',
    text: 'Use atomic for lock-free thread-safe operations',
    setup: 'std::atomic<int> counter{0};',
    setupCode: 'std::atomic<int> counter{0};',
    expected: 'atomic increment',
    sample: 'counter.fetch_add(1);',
    hints: ['atomic operations are lock-free and thread-safe'],
    tags: ['thread', 'atomic'],
  },
  {
    id: 'cpp-thread-323',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Atomic Load and Store',
    text: 'Load and store values atomically',
    setup: 'std::atomic<int> value{0};',
    setupCode: 'std::atomic<int> value{0};',
    expected: 'atomic load/store',
    sample: 'value.store(42);\nint v = value.load();',
    hints: ['load() and store() provide explicit atomic operations'],
    tags: ['thread', 'atomic', 'load', 'store'],
  },
  {
    id: 'cpp-thread-324',
    category: 'Threading',
    difficulty: 'hard',
    title: 'Compare and Exchange',
    text: 'Use compare_exchange_strong for atomic compare-and-swap',
    setup: 'std::atomic<int> value{0};',
    setupCode: 'std::atomic<int> value{0};',
    expected: 'CAS operation',
    sample: 'int expected = 0;\nbool success = value.compare_exchange_strong(expected, 1);',
    hints: ['CAS is fundamental for lock-free algorithms'],
    tags: ['thread', 'atomic', 'cas'],
  },
  {
    id: 'cpp-thread-325',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Shared Mutex (C++17)',
    text: 'Use shared_mutex for reader-writer lock',
    setup: 'std::shared_mutex smtx;\nint data = 0;',
    setupCode: 'std::shared_mutex smtx;\nint data = 0;',
    expected: 'shared lock for reading',
    sample:
      'std::shared_lock<std::shared_mutex> lock(smtx);\n// multiple readers can hold shared lock',
    hints: ['shared_lock allows multiple concurrent readers'],
    tags: ['thread', 'shared_mutex', 'c++17'],
  },
  {
    id: 'cpp-thread-326',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Scoped Lock (C++17)',
    text: 'Lock multiple mutexes safely using scoped_lock',
    setup: 'std::mutex mtx1, mtx2;',
    setupCode: 'std::mutex mtx1, mtx2;',
    expected: 'deadlock-free locking',
    sample: 'std::scoped_lock lock(mtx1, mtx2);',
    hints: ['scoped_lock prevents deadlock with multiple mutexes (C++17)'],
    tags: ['thread', 'scoped_lock', 'c++17'],
  },
  {
    id: 'cpp-thread-327',
    category: 'Threading',
    difficulty: 'medium',
    title: 'Hardware Concurrency',
    text: 'Get the number of hardware threads available',
    setup: '',
    setupCode: '',
    expected: 'number of threads',
    sample: 'unsigned int n = std::thread::hardware_concurrency();',
    hints: ['hardware_concurrency returns hint for optimal thread count'],
    tags: ['thread', 'hardware_concurrency'],
  },
  {
    id: 'cpp-thread-328',
    category: 'Threading',
    difficulty: 'hard',
    title: 'jthread (C++20)',
    text: 'Use jthread for automatic joining thread',
    setup: '',
    setupCode: '',
    expected: 'auto-joining thread',
    sample: 'std::jthread t([]() { /* work */ });\n// automatically joins on destruction',
    hints: ['jthread automatically joins when destroyed (C++20)'],
    tags: ['thread', 'jthread', 'c++20'],
  },
  {
    id: 'cpp-thread-329',
    category: 'Threading',
    difficulty: 'hard',
    title: 'Stop Token (C++20)',
    text: 'Use stop_token for cooperative thread cancellation',
    setup: '',
    setupCode: '',
    expected: 'cancellable thread',
    sample:
      'std::jthread t([](std::stop_token st) {\n  while (!st.stop_requested()) { /* work */ }\n});',
    hints: ['stop_token allows cooperative cancellation (C++20)'],
    tags: ['thread', 'stop_token', 'c++20'],
  },

  // ============================================================
  // Filesystem (C++17)
  // ============================================================
  {
    id: 'cpp-fs-330',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Create Path Object',
    text: 'Create a filesystem path object',
    setup: '',
    setupCode: '',
    expected: 'path object',
    sample: 'std::filesystem::path p = "/home/user/file.txt";',
    hints: ['std::filesystem::path represents a filesystem path'],
    tags: ['filesystem', 'path', 'c++17'],
  },
  {
    id: 'cpp-fs-331',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Get Filename from Path',
    text: 'Extract the filename from a path',
    setup: 'std::filesystem::path p = "/home/user/file.txt";',
    setupCode: 'std::filesystem::path p = "/home/user/file.txt";',
    expected: '"file.txt"',
    sample: 'auto filename = p.filename();',
    hints: ['filename() returns just the file name part'],
    tags: ['filesystem', 'filename', 'c++17'],
  },
  {
    id: 'cpp-fs-332',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Get Extension from Path',
    text: 'Extract the file extension from a path',
    setup: 'std::filesystem::path p = "/home/user/file.txt";',
    setupCode: 'std::filesystem::path p = "/home/user/file.txt";',
    expected: '".txt"',
    sample: 'auto ext = p.extension();',
    hints: ['extension() returns the file extension including the dot'],
    tags: ['filesystem', 'extension', 'c++17'],
  },
  {
    id: 'cpp-fs-333',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Get Parent Path',
    text: 'Get the parent directory of a path',
    setup: 'std::filesystem::path p = "/home/user/file.txt";',
    setupCode: 'std::filesystem::path p = "/home/user/file.txt";',
    expected: '"/home/user"',
    sample: 'auto parent = p.parent_path();',
    hints: ['parent_path() returns the directory containing the file'],
    tags: ['filesystem', 'parent_path', 'c++17'],
  },
  {
    id: 'cpp-fs-334',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Check if File Exists',
    text: 'Check if a file or directory exists',
    setup: 'std::filesystem::path p = "/tmp";',
    setupCode: 'std::filesystem::path p = "/tmp";',
    expected: 'true',
    sample: 'bool exists = std::filesystem::exists(p);',
    hints: ['exists() checks if the path exists on disk'],
    tags: ['filesystem', 'exists', 'c++17'],
  },
  {
    id: 'cpp-fs-335',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Check if Path is Directory',
    text: 'Check if a path is a directory',
    setup: 'std::filesystem::path p = "/tmp";',
    setupCode: 'std::filesystem::path p = "/tmp";',
    expected: 'true',
    sample: 'bool is_dir = std::filesystem::is_directory(p);',
    hints: ['is_directory() returns true for directories'],
    tags: ['filesystem', 'is_directory', 'c++17'],
  },
  {
    id: 'cpp-fs-336',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Check if Path is Regular File',
    text: 'Check if a path is a regular file',
    setup: 'std::filesystem::path p = "/etc/passwd";',
    setupCode: 'std::filesystem::path p = "/etc/passwd";',
    expected: 'true',
    sample: 'bool is_file = std::filesystem::is_regular_file(p);',
    hints: ['is_regular_file() returns true for normal files'],
    tags: ['filesystem', 'is_regular_file', 'c++17'],
  },
  {
    id: 'cpp-fs-337',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Get File Size',
    text: 'Get the size of a file in bytes',
    setup: 'std::filesystem::path p = "/etc/passwd";',
    setupCode: 'std::filesystem::path p = "/etc/passwd";',
    expected: 'file size in bytes',
    sample: 'auto size = std::filesystem::file_size(p);',
    hints: ['file_size() returns the size in bytes'],
    tags: ['filesystem', 'file_size', 'c++17'],
  },
  {
    id: 'cpp-fs-338',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Create Directory',
    text: 'Create a new directory',
    setup: '',
    setupCode: '',
    expected: 'directory created',
    sample: 'std::filesystem::create_directory("/tmp/mydir");',
    hints: ['create_directory() creates a single directory'],
    tags: ['filesystem', 'create_directory', 'c++17'],
  },
  {
    id: 'cpp-fs-339',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Create Directories Recursively',
    text: 'Create directories including parent directories',
    setup: '',
    setupCode: '',
    expected: 'directories created',
    sample: 'std::filesystem::create_directories("/tmp/a/b/c");',
    hints: ['create_directories() creates all missing parent directories'],
    tags: ['filesystem', 'create_directories', 'c++17'],
  },
  {
    id: 'cpp-fs-340',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Copy File',
    text: 'Copy a file to a new location',
    setup: '',
    setupCode: '',
    expected: 'file copied',
    sample: 'std::filesystem::copy_file("/tmp/src.txt", "/tmp/dst.txt");',
    hints: ['copy_file() copies a single file'],
    tags: ['filesystem', 'copy_file', 'c++17'],
  },
  {
    id: 'cpp-fs-341',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Remove File',
    text: 'Delete a file',
    setup: '',
    setupCode: '',
    expected: 'file removed',
    sample: 'std::filesystem::remove("/tmp/file.txt");',
    hints: ['remove() deletes a file or empty directory'],
    tags: ['filesystem', 'remove', 'c++17'],
  },
  {
    id: 'cpp-fs-342',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Remove All',
    text: 'Delete a directory and all its contents recursively',
    setup: '',
    setupCode: '',
    expected: 'directory tree removed',
    sample: 'std::filesystem::remove_all("/tmp/mydir");',
    hints: ['remove_all() removes directory and all contents'],
    tags: ['filesystem', 'remove_all', 'c++17'],
  },
  {
    id: 'cpp-fs-343',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Rename File',
    text: 'Rename or move a file',
    setup: '',
    setupCode: '',
    expected: 'file renamed',
    sample: 'std::filesystem::rename("/tmp/old.txt", "/tmp/new.txt");',
    hints: ['rename() can also move files across directories'],
    tags: ['filesystem', 'rename', 'c++17'],
  },
  {
    id: 'cpp-fs-344',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Iterate Directory',
    text: 'Iterate over directory entries',
    setup: 'std::filesystem::path dir = "/tmp";',
    setupCode: 'std::filesystem::path dir = "/tmp";',
    expected: 'directory entries',
    sample:
      'for (const auto& entry : std::filesystem::directory_iterator(dir)) {\n  std::cout << entry.path() << "\\n";\n}',
    hints: ['directory_iterator iterates over immediate children'],
    tags: ['filesystem', 'directory_iterator', 'c++17'],
  },
  {
    id: 'cpp-fs-345',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Iterate Directory Recursively',
    text: 'Iterate over all entries recursively',
    setup: 'std::filesystem::path dir = "/tmp";',
    setupCode: 'std::filesystem::path dir = "/tmp";',
    expected: 'all nested entries',
    sample:
      'for (const auto& entry : std::filesystem::recursive_directory_iterator(dir)) {\n  std::cout << entry.path() << "\\n";\n}',
    hints: ['recursive_directory_iterator visits all descendants'],
    tags: ['filesystem', 'recursive_directory_iterator', 'c++17'],
  },
  {
    id: 'cpp-fs-346',
    category: 'Filesystem',
    difficulty: 'easy',
    title: 'Get Current Path',
    text: 'Get the current working directory',
    setup: '',
    setupCode: '',
    expected: 'current directory',
    sample: 'auto cwd = std::filesystem::current_path();',
    hints: ['current_path() returns the current working directory'],
    tags: ['filesystem', 'current_path', 'c++17'],
  },
  {
    id: 'cpp-fs-347',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Concatenate Paths',
    text: 'Combine path components using operator/',
    setup: 'std::filesystem::path base = "/home/user";',
    setupCode: 'std::filesystem::path base = "/home/user";',
    expected: '"/home/user/subdir/file.txt"',
    sample: 'auto full = base / "subdir" / "file.txt";',
    hints: ['operator/ concatenates path components'],
    tags: ['filesystem', 'path', 'concatenate', 'c++17'],
  },
  {
    id: 'cpp-fs-348',
    category: 'Filesystem',
    difficulty: 'medium',
    title: 'Get Absolute Path',
    text: 'Convert relative path to absolute path',
    setup: 'std::filesystem::path rel = "file.txt";',
    setupCode: 'std::filesystem::path rel = "file.txt";',
    expected: 'absolute path',
    sample: 'auto abs = std::filesystem::absolute(rel);',
    hints: ['absolute() resolves relative paths'],
    tags: ['filesystem', 'absolute', 'c++17'],
  },

  // ============================================================
  // Format (C++20)
  // ============================================================
  {
    id: 'cpp-fmt-349',
    category: 'Format',
    difficulty: 'easy',
    title: 'Basic std::format',
    text: 'Format a simple string with an integer argument',
    setup: '',
    setupCode: '',
    expected: '"The answer is 42"',
    sample: 'std::string s = std::format("The answer is {}", 42);',
    hints: ['std::format uses {} as placeholder (C++20)'],
    tags: ['format', 'c++20'],
  },
  {
    id: 'cpp-fmt-350',
    category: 'Format',
    difficulty: 'easy',
    title: 'Format Multiple Arguments',
    text: 'Format a string with multiple arguments',
    setup: '',
    setupCode: '',
    expected: '"Hello John, you are 25 years old"',
    sample: 'std::string s = std::format("Hello {}, you are {} years old", "John", 25);',
    hints: ['Arguments are substituted in order'],
    tags: ['format', 'c++20'],
  },
  {
    id: 'cpp-fmt-351',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format with Position Index',
    text: 'Format using argument indices',
    setup: '',
    setupCode: '',
    expected: '"second first second"',
    sample: 'std::string s = std::format("{1} {0} {1}", "first", "second");',
    hints: ['Use {n} to reference argument by index'],
    tags: ['format', 'index', 'c++20'],
  },
  {
    id: 'cpp-fmt-352',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format Integer as Hex',
    text: 'Format an integer in hexadecimal',
    setup: '',
    setupCode: '',
    expected: '"hex: ff"',
    sample: 'std::string s = std::format("hex: {:x}", 255);',
    hints: [':x formats as lowercase hex, :X as uppercase'],
    tags: ['format', 'hex', 'c++20'],
  },
  {
    id: 'cpp-fmt-353',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format Integer as Binary',
    text: 'Format an integer in binary',
    setup: '',
    setupCode: '',
    expected: '"binary: 1010"',
    sample: 'std::string s = std::format("binary: {:b}", 10);',
    hints: [':b formats as binary'],
    tags: ['format', 'binary', 'c++20'],
  },
  {
    id: 'cpp-fmt-354',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format with Width',
    text: 'Format with specified minimum width',
    setup: '',
    setupCode: '',
    expected: '"   42"',
    sample: 'std::string s = std::format("{:5}", 42);',
    hints: [':n specifies minimum width of n'],
    tags: ['format', 'width', 'c++20'],
  },
  {
    id: 'cpp-fmt-355',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format with Fill and Align',
    text: 'Format with fill character and alignment',
    setup: '',
    setupCode: '',
    expected: '"**42**"',
    sample: 'std::string s = std::format("{:*^6}", 42);',
    hints: ['*^6 means fill with *, center align, width 6'],
    tags: ['format', 'fill', 'align', 'c++20'],
  },
  {
    id: 'cpp-fmt-356',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format Floating Point Precision',
    text: 'Format a float with 2 decimal places',
    setup: '',
    setupCode: '',
    expected: '"3.14"',
    sample: 'std::string s = std::format("{:.2f}", 3.14159);',
    hints: ['.2f means 2 decimal places, fixed notation'],
    tags: ['format', 'precision', 'float', 'c++20'],
  },
  {
    id: 'cpp-fmt-357',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format Scientific Notation',
    text: 'Format a number in scientific notation',
    setup: '',
    setupCode: '',
    expected: '"1.23e+04"',
    sample: 'std::string s = std::format("{:e}", 12345.0);',
    hints: [':e formats in scientific notation'],
    tags: ['format', 'scientific', 'c++20'],
  },
  {
    id: 'cpp-fmt-358',
    category: 'Format',
    difficulty: 'easy',
    title: 'Format Boolean',
    text: 'Format a boolean as true/false string',
    setup: '',
    setupCode: '',
    expected: '"Value: true"',
    sample: 'std::string s = std::format("Value: {}", true);',
    hints: ['Booleans format as true/false by default'],
    tags: ['format', 'boolean', 'c++20'],
  },
  {
    id: 'cpp-fmt-359',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format with Sign',
    text: 'Always show the sign for numbers',
    setup: '',
    setupCode: '',
    expected: '"+42 -10"',
    sample: 'std::string s = std::format("{:+} {:+}", 42, -10);',
    hints: [':+ always shows the sign'],
    tags: ['format', 'sign', 'c++20'],
  },
  {
    id: 'cpp-fmt-360',
    category: 'Format',
    difficulty: 'medium',
    title: 'Format with Leading Zeros',
    text: 'Pad a number with leading zeros',
    setup: '',
    setupCode: '',
    expected: '"00042"',
    sample: 'std::string s = std::format("{:05}", 42);',
    hints: ['0 before width enables zero padding'],
    tags: ['format', 'zero_padding', 'c++20'],
  },
  {
    id: 'cpp-fmt-361',
    category: 'Format',
    difficulty: 'medium',
    title: 'std::format_to',
    text: 'Format directly to an output iterator',
    setup: 'std::string result;',
    setupCode: 'std::string result;',
    expected: '"Hello, World!"',
    sample: 'std::format_to(std::back_inserter(result), "Hello, {}!", "World");',
    hints: ['format_to writes to an iterator, avoiding string allocation'],
    tags: ['format', 'format_to', 'c++20'],
  },
  {
    id: 'cpp-fmt-362',
    category: 'Format',
    difficulty: 'hard',
    title: 'std::print (C++23)',
    text: 'Print formatted output directly to stdout',
    setup: '',
    setupCode: '',
    expected: 'prints to stdout',
    sample: 'std::print("The answer is {}\\n", 42);',
    hints: ['std::print is the preferred way to print in C++23'],
    tags: ['format', 'print', 'c++23'],
  },
  {
    id: 'cpp-fmt-363',
    category: 'Format',
    difficulty: 'hard',
    title: 'std::println (C++23)',
    text: 'Print formatted output with automatic newline',
    setup: '',
    setupCode: '',
    expected: 'prints with newline',
    sample: 'std::println("The answer is {}", 42);',
    hints: ['std::println adds newline automatically (C++23)'],
    tags: ['format', 'println', 'c++23'],
  },

  // ============================================================
  // Coroutines (C++20)
  // ============================================================
  {
    id: 'cpp-coro-364',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'Simple Generator Structure',
    text: 'Define a basic generator promise_type',
    setup: '',
    setupCode: '',
    expected: 'generator promise type',
    sample:
      'template<typename T>\nstruct Generator {\n  struct promise_type {\n    T value;\n    Generator get_return_object() { return Generator{std::coroutine_handle<promise_type>::from_promise(*this)}; }\n    std::suspend_always initial_suspend() { return {}; }\n    std::suspend_always final_suspend() noexcept { return {}; }\n    std::suspend_always yield_value(T v) { value = v; return {}; }\n    void return_void() {}\n    void unhandled_exception() { std::terminate(); }\n  };\n  std::coroutine_handle<promise_type> handle;\n};',
    hints: ['promise_type defines coroutine behavior'],
    tags: ['coroutine', 'generator', 'promise_type', 'c++20'],
  },
  {
    id: 'cpp-coro-365',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'co_yield Value',
    text: 'Yield a value from a coroutine using co_yield',
    setup: '',
    setupCode: '',
    expected: 'yields values',
    sample:
      'Generator<int> count_to(int n) {\n  for (int i = 1; i <= n; ++i) {\n    co_yield i;\n  }\n}',
    hints: ['co_yield suspends and produces a value'],
    tags: ['coroutine', 'co_yield', 'c++20'],
  },
  {
    id: 'cpp-coro-366',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'co_return Statement',
    text: 'Return from a coroutine using co_return',
    setup: '',
    setupCode: '',
    expected: 'coroutine returns',
    sample: 'Task<int> async_compute() {\n  co_return 42;\n}',
    hints: ['co_return terminates coroutine and optionally returns value'],
    tags: ['coroutine', 'co_return', 'c++20'],
  },
  {
    id: 'cpp-coro-367',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'co_await Expression',
    text: 'Await an awaitable object using co_await',
    setup: '',
    setupCode: '',
    expected: 'awaits result',
    sample:
      'Task<int> compute_async() {\n  int result = co_await some_async_operation();\n  co_return result * 2;\n}',
    hints: ['co_await suspends until the awaited operation completes'],
    tags: ['coroutine', 'co_await', 'c++20'],
  },
  {
    id: 'cpp-coro-368',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'coroutine_handle',
    text: 'Use coroutine_handle to resume a suspended coroutine',
    setup: 'std::coroutine_handle<> handle;',
    setupCode: 'std::coroutine_handle<> handle;',
    expected: 'resumes coroutine',
    sample: 'handle.resume();',
    hints: ['resume() continues execution from suspension point'],
    tags: ['coroutine', 'coroutine_handle', 'resume', 'c++20'],
  },
  {
    id: 'cpp-coro-369',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'Check Coroutine Done',
    text: 'Check if a coroutine has completed',
    setup: 'std::coroutine_handle<> handle;',
    setupCode: 'std::coroutine_handle<> handle;',
    expected: 'bool indicating completion',
    sample: 'bool finished = handle.done();',
    hints: ['done() returns true if coroutine has completed'],
    tags: ['coroutine', 'done', 'c++20'],
  },
  {
    id: 'cpp-coro-370',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'Destroy Coroutine',
    text: 'Destroy a coroutine and release its resources',
    setup: 'std::coroutine_handle<> handle;',
    setupCode: 'std::coroutine_handle<> handle;',
    expected: 'coroutine destroyed',
    sample: 'handle.destroy();',
    hints: ['Always destroy coroutine handles to avoid leaks'],
    tags: ['coroutine', 'destroy', 'c++20'],
  },
  {
    id: 'cpp-coro-371',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'suspend_always Awaitable',
    text: 'Use suspend_always to always suspend',
    setup: '',
    setupCode: '',
    expected: 'always suspends',
    sample: 'std::suspend_always initial_suspend() { return {}; }',
    hints: ['suspend_always makes the coroutine suspend at that point'],
    tags: ['coroutine', 'suspend_always', 'c++20'],
  },
  {
    id: 'cpp-coro-372',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'suspend_never Awaitable',
    text: 'Use suspend_never to never suspend',
    setup: '',
    setupCode: '',
    expected: 'never suspends',
    sample: 'std::suspend_never initial_suspend() { return {}; }',
    hints: ['suspend_never makes the coroutine continue without suspension'],
    tags: ['coroutine', 'suspend_never', 'c++20'],
  },
  {
    id: 'cpp-coro-373',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'Custom Awaitable',
    text: 'Create a custom awaitable type',
    setup: '',
    setupCode: '',
    expected: 'custom awaitable',
    sample:
      'struct MyAwaitable {\n  bool await_ready() { return false; }\n  void await_suspend(std::coroutine_handle<>) {}\n  int await_resume() { return 42; }\n};',
    hints: ['Awaitables need await_ready, await_suspend, await_resume'],
    tags: ['coroutine', 'awaitable', 'c++20'],
  },
  {
    id: 'cpp-coro-374',
    category: 'Coroutines',
    difficulty: 'hard',
    title: 'std::generator (C++23)',
    text: 'Use the standard generator from C++23',
    setup: '',
    setupCode: '',
    expected: 'standard generator',
    sample: 'std::generator<int> iota(int start) {\n  while (true) co_yield start++;\n}',
    hints: ['std::generator is the standard generator type (C++23)'],
    tags: ['coroutine', 'generator', 'c++23'],
  },

  // ============================================================
  // Additional STL Algorithms
  // ============================================================
  {
    id: 'cpp-algo-375',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Partition Elements',
    text: 'Partition vector so even numbers come first using std::partition',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: 'evens first, then odds',
    sample: 'std::partition(nums.begin(), nums.end(), [](int x) { return x % 2 == 0; });',
    hints: ['partition rearranges elements based on predicate'],
    tags: ['algorithm', 'partition', 'stl'],
  },
  {
    id: 'cpp-algo-376',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Stable Partition',
    text: 'Partition while preserving relative order using std::stable_partition',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: '{2, 4, 6, 1, 3, 5}',
    sample: 'std::stable_partition(nums.begin(), nums.end(), [](int x) { return x % 2 == 0; });',
    hints: ['stable_partition maintains relative order within groups'],
    tags: ['algorithm', 'stable_partition', 'stl'],
  },
  {
    id: 'cpp-algo-377',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Is Sorted Check',
    text: 'Check if a range is sorted using std::is_sorted',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'true',
    sample: 'std::is_sorted(nums.begin(), nums.end())',
    hints: ['is_sorted returns true if range is in sorted order'],
    tags: ['algorithm', 'is_sorted', 'stl'],
  },
  {
    id: 'cpp-algo-378',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Heap Operations - Make Heap',
    text: 'Convert a range into a max heap using std::make_heap',
    setup: 'std::vector<int> nums = {3, 1, 4, 1, 5, 9};',
    setupCode: 'std::vector<int> nums = {3, 1, 4, 1, 5, 9};',
    expected: 'valid max heap',
    sample: 'std::make_heap(nums.begin(), nums.end());',
    hints: ['make_heap creates a max heap in-place'],
    tags: ['algorithm', 'heap', 'make_heap', 'stl'],
  },
  {
    id: 'cpp-algo-379',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Heap Operations - Pop Heap',
    text: 'Remove the largest element from a heap using std::pop_heap',
    setup: 'std::vector<int> nums = {9, 5, 4, 1, 1, 3};  // already a heap',
    setupCode: 'std::vector<int> nums = {9, 5, 4, 1, 1, 3};  // already a heap',
    expected: 'max moved to end',
    sample: 'std::pop_heap(nums.begin(), nums.end());\nnums.pop_back();',
    hints: ['pop_heap moves max to end, then pop_back removes it'],
    tags: ['algorithm', 'heap', 'pop_heap', 'stl'],
  },
  {
    id: 'cpp-algo-380',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Heap Operations - Push Heap',
    text: 'Add an element to a heap using std::push_heap',
    setup: 'std::vector<int> nums = {9, 5, 4, 1, 1, 3};  // already a heap',
    setupCode: 'std::vector<int> nums = {9, 5, 4, 1, 1, 3};  // already a heap',
    expected: 'new element in heap',
    sample: 'nums.push_back(7);\nstd::push_heap(nums.begin(), nums.end());',
    hints: ['push_heap fixes heap after adding element at end'],
    tags: ['algorithm', 'heap', 'push_heap', 'stl'],
  },
  {
    id: 'cpp-algo-381',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Heap Sort',
    text: 'Sort using heap operations with std::sort_heap',
    setup: 'std::vector<int> nums = {3, 1, 4, 1, 5, 9};\nstd::make_heap(nums.begin(), nums.end());',
    setupCode:
      'std::vector<int> nums = {3, 1, 4, 1, 5, 9};\nstd::make_heap(nums.begin(), nums.end());',
    expected: 'sorted in ascending order',
    sample: 'std::sort_heap(nums.begin(), nums.end());',
    hints: ['sort_heap sorts a heap in-place'],
    tags: ['algorithm', 'heap', 'sort_heap', 'stl'],
  },
  {
    id: 'cpp-algo-382',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Min and Max',
    text: 'Get both min and max in one call using std::minmax',
    setup: '',
    setupCode: '',
    expected: 'pair {1, 5}',
    sample: 'auto [min_val, max_val] = std::minmax({3, 1, 4, 1, 5});',
    hints: ['minmax returns a pair of min and max values'],
    tags: ['algorithm', 'minmax', 'stl'],
  },
  {
    id: 'cpp-algo-383',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Minmax Element',
    text: 'Find both min and max elements in a range',
    setup: 'std::vector<int> nums = {3, 1, 4, 1, 5, 9};',
    setupCode: 'std::vector<int> nums = {3, 1, 4, 1, 5, 9};',
    expected: 'pair of iterators to min and max',
    sample: 'auto [min_it, max_it] = std::minmax_element(nums.begin(), nums.end());',
    hints: ['minmax_element returns iterators to min and max'],
    tags: ['algorithm', 'minmax_element', 'stl'],
  },
  {
    id: 'cpp-algo-384',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Clamp Value',
    text: 'Clamp a value to a range using std::clamp',
    setup: '',
    setupCode: '',
    expected: '5',
    sample: 'int clamped = std::clamp(10, 1, 5);  // clamp 10 to [1, 5]',
    hints: ['clamp returns value constrained to range [lo, hi]'],
    tags: ['algorithm', 'clamp', 'stl'],
  },
  {
    id: 'cpp-algo-385',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Set Intersection',
    text: 'Find common elements between two sorted ranges',
    setup:
      'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {3, 4, 5, 6, 7};\nstd::vector<int> result;',
    setupCode:
      'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {3, 4, 5, 6, 7};\nstd::vector<int> result;',
    expected: '{3, 4, 5}',
    sample:
      'std::set_intersection(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));',
    hints: ['set_intersection requires sorted input ranges'],
    tags: ['algorithm', 'set_intersection', 'stl'],
  },
  {
    id: 'cpp-algo-386',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Set Union',
    text: 'Combine two sorted ranges into a union',
    setup:
      'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {3, 4, 5};\nstd::vector<int> result;',
    setupCode:
      'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {3, 4, 5};\nstd::vector<int> result;',
    expected: '{1, 2, 3, 4, 5}',
    sample: 'std::set_union(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));',
    hints: ['set_union combines sorted ranges'],
    tags: ['algorithm', 'set_union', 'stl'],
  },
  {
    id: 'cpp-algo-387',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Set Difference',
    text: 'Find elements in first range not in second',
    setup:
      'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {3, 4};\nstd::vector<int> result;',
    setupCode:
      'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {3, 4};\nstd::vector<int> result;',
    expected: '{1, 2, 5}',
    sample:
      'std::set_difference(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));',
    hints: ['set_difference finds elements in first but not second'],
    tags: ['algorithm', 'set_difference', 'stl'],
  },
  {
    id: 'cpp-algo-388',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Merge Sorted Ranges',
    text: 'Merge two sorted ranges into one sorted range',
    setup:
      'std::vector<int> a = {1, 3, 5};\nstd::vector<int> b = {2, 4, 6};\nstd::vector<int> result;',
    setupCode:
      'std::vector<int> a = {1, 3, 5};\nstd::vector<int> b = {2, 4, 6};\nstd::vector<int> result;',
    expected: '{1, 2, 3, 4, 5, 6}',
    sample: 'std::merge(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));',
    hints: ['merge combines two sorted ranges into one'],
    tags: ['algorithm', 'merge', 'stl'],
  },
  {
    id: 'cpp-algo-389',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Inplace Merge',
    text: 'Merge two consecutive sorted subranges in-place',
    setup: 'std::vector<int> nums = {1, 3, 5, 2, 4, 6};',
    setupCode: 'std::vector<int> nums = {1, 3, 5, 2, 4, 6};',
    expected: '{1, 2, 3, 4, 5, 6}',
    sample: 'std::inplace_merge(nums.begin(), nums.begin() + 3, nums.end());',
    hints: ['inplace_merge merges two sorted halves in-place'],
    tags: ['algorithm', 'inplace_merge', 'stl'],
  },
  {
    id: 'cpp-algo-390',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Includes Check',
    text: 'Check if one sorted range includes all elements of another',
    setup: 'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {2, 3, 4};',
    setupCode: 'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {2, 3, 4};',
    expected: 'true',
    sample: 'std::includes(a.begin(), a.end(), b.begin(), b.end())',
    hints: ['includes checks if first range contains all of second'],
    tags: ['algorithm', 'includes', 'stl'],
  },
  {
    id: 'cpp-algo-391',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Next Permutation',
    text: 'Generate the next lexicographically greater permutation',
    setup: 'std::vector<int> nums = {1, 2, 3};',
    setupCode: 'std::vector<int> nums = {1, 2, 3};',
    expected: '{1, 3, 2}',
    sample: 'std::next_permutation(nums.begin(), nums.end());',
    hints: ['next_permutation generates permutations in order'],
    tags: ['algorithm', 'next_permutation', 'stl'],
  },
  {
    id: 'cpp-algo-392',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Previous Permutation',
    text: 'Generate the previous lexicographically smaller permutation',
    setup: 'std::vector<int> nums = {3, 2, 1};',
    setupCode: 'std::vector<int> nums = {3, 2, 1};',
    expected: '{3, 1, 2}',
    sample: 'std::prev_permutation(nums.begin(), nums.end());',
    hints: ['prev_permutation goes backwards through permutations'],
    tags: ['algorithm', 'prev_permutation', 'stl'],
  },
  {
    id: 'cpp-algo-393',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Lexicographical Compare',
    text: 'Compare two ranges lexicographically',
    setup: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {1, 2, 4};',
    setupCode: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {1, 2, 4};',
    expected: 'true (a < b)',
    sample: 'std::lexicographical_compare(a.begin(), a.end(), b.begin(), b.end())',
    hints: ['lexicographical_compare returns true if first < second'],
    tags: ['algorithm', 'lexicographical_compare', 'stl'],
  },
  {
    id: 'cpp-algo-394',
    category: 'Algorithm Library',
    difficulty: 'easy',
    title: 'Equal Ranges',
    text: 'Check if two ranges are equal',
    setup: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {1, 2, 3};',
    setupCode: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {1, 2, 3};',
    expected: 'true',
    sample: 'std::equal(a.begin(), a.end(), b.begin(), b.end())',
    hints: ['equal compares elements pairwise'],
    tags: ['algorithm', 'equal', 'stl'],
  },
  {
    id: 'cpp-algo-395',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Mismatch',
    text: 'Find the first position where two ranges differ',
    setup: 'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {1, 2, 9, 4, 5};',
    setupCode: 'std::vector<int> a = {1, 2, 3, 4, 5};\nstd::vector<int> b = {1, 2, 9, 4, 5};',
    expected: 'pair of iterators to 3 and 9',
    sample: 'auto [it_a, it_b] = std::mismatch(a.begin(), a.end(), b.begin());',
    hints: ['mismatch returns iterators to first differing elements'],
    tags: ['algorithm', 'mismatch', 'stl'],
  },
  {
    id: 'cpp-algo-396',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'For Each',
    text: 'Apply a function to each element using std::for_each',
    setup: 'std::vector<int> nums = {1, 2, 3};\nint sum = 0;',
    setupCode: 'std::vector<int> nums = {1, 2, 3};\nint sum = 0;',
    expected: 'sum = 6',
    sample: 'std::for_each(nums.begin(), nums.end(), [&sum](int x) { sum += x; });',
    hints: ['for_each applies function to each element in range'],
    tags: ['algorithm', 'for_each', 'stl'],
  },
  {
    id: 'cpp-algo-397',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Sample Elements (C++17)',
    text: 'Randomly sample n elements from a range',
    setup:
      'std::vector<int> nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\nstd::vector<int> result;\nstd::random_device rd;\nstd::mt19937 gen(rd());',
    setupCode:
      'std::vector<int> nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\nstd::vector<int> result;\nstd::random_device rd;\nstd::mt19937 gen(rd());',
    expected: '3 random elements',
    sample: 'std::sample(nums.begin(), nums.end(), std::back_inserter(result), 3, gen);',
    hints: ['sample selects n random elements (C++17)'],
    tags: ['algorithm', 'sample', 'c++17', 'stl'],
  },
  {
    id: 'cpp-algo-398',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Shift Left (C++20)',
    text: 'Shift elements left by n positions',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{3, 4, 5, ?, ?}',
    sample: 'std::shift_left(nums.begin(), nums.end(), 2);',
    hints: ['shift_left moves elements left, leaving end undefined (C++20)'],
    tags: ['algorithm', 'shift_left', 'c++20', 'stl'],
  },
  {
    id: 'cpp-algo-399',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Shift Right (C++20)',
    text: 'Shift elements right by n positions',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{?, ?, 1, 2, 3}',
    sample: 'std::shift_right(nums.begin(), nums.end(), 2);',
    hints: ['shift_right moves elements right, leaving front undefined (C++20)'],
    tags: ['algorithm', 'shift_right', 'c++20', 'stl'],
  },

  // ============================================================
  // Additional Ranges (C++20/23)
  // ============================================================
  {
    id: 'cpp-ranges-400',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Ranges Sort',
    text: 'Sort a vector using ranges::sort',
    setup: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    setupCode: 'std::vector<int> nums = {5, 2, 8, 1, 9};',
    expected: '{1, 2, 5, 8, 9}',
    sample: 'std::ranges::sort(nums);',
    hints: ['ranges::sort takes a range directly'],
    tags: ['ranges', 'sort', 'c++20'],
  },
  {
    id: 'cpp-ranges-401',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Ranges Find',
    text: 'Find an element using ranges::find',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'iterator to 3',
    sample: 'auto it = std::ranges::find(nums, 3);',
    hints: ['ranges::find works on entire containers'],
    tags: ['ranges', 'find', 'c++20'],
  },
  {
    id: 'cpp-ranges-402',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Ranges Count',
    text: 'Count occurrences using ranges::count',
    setup: 'std::vector<int> nums = {1, 2, 2, 3, 2, 4};',
    setupCode: 'std::vector<int> nums = {1, 2, 2, 3, 2, 4};',
    expected: '3',
    sample: 'auto n = std::ranges::count(nums, 2);',
    hints: ['ranges::count counts matching elements'],
    tags: ['ranges', 'count', 'c++20'],
  },
  {
    id: 'cpp-ranges-403',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'Ranges with Projection',
    text: 'Sort by a member using projection',
    setup:
      'struct Person { std::string name; int age; };\nstd::vector<Person> people = {{"Alice", 30}, {"Bob", 25}};',
    setupCode:
      'struct Person { std::string name; int age; };\nstd::vector<Person> people = {{"Alice", 30}, {"Bob", 25}};',
    expected: 'sorted by age',
    sample: 'std::ranges::sort(people, {}, &Person::age);',
    hints: ['Projections allow sorting by a member or transformation'],
    tags: ['ranges', 'projection', 'c++20'],
  },
  {
    id: 'cpp-ranges-404',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'views::common',
    text: 'Convert a view to a common_range for algorithms',
    setup: 'auto view = std::views::iota(1, 10);',
    setupCode: 'auto view = std::views::iota(1, 10);',
    expected: 'common range',
    sample: 'auto common = view | std::views::common;',
    hints: ['common view ensures begin and end have same type'],
    tags: ['ranges', 'views', 'common', 'c++20'],
  },
  {
    id: 'cpp-ranges-405',
    category: 'Ranges',
    difficulty: 'hard',
    title: 'views::zip (C++23)',
    text: 'Zip multiple ranges together',
    setup: "std::vector<int> a = {1, 2, 3};\nstd::vector<char> b = {'a', 'b', 'c'};",
    setupCode: "std::vector<int> a = {1, 2, 3};\nstd::vector<char> b = {'a', 'b', 'c'};",
    expected: 'view of tuples',
    sample: 'auto zipped = std::views::zip(a, b);',
    hints: ['views::zip combines multiple ranges into tuples (C++23)'],
    tags: ['ranges', 'views', 'zip', 'c++23'],
  },
  {
    id: 'cpp-ranges-406',
    category: 'Ranges',
    difficulty: 'hard',
    title: 'views::zip_transform (C++23)',
    text: 'Zip and transform multiple ranges',
    setup: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {10, 20, 30};',
    setupCode: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {10, 20, 30};',
    expected: 'view of {11, 22, 33}',
    sample: 'auto result = std::views::zip_transform(std::plus<>(), a, b);',
    hints: ['zip_transform applies function to zipped elements (C++23)'],
    tags: ['ranges', 'views', 'zip_transform', 'c++23'],
  },
  {
    id: 'cpp-ranges-407',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'views::adjacent (C++23)',
    text: 'Get adjacent pairs of elements',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of pairs',
    sample: 'auto pairs = nums | std::views::adjacent<2>;',
    hints: ['adjacent creates sliding window of N elements (C++23)'],
    tags: ['ranges', 'views', 'adjacent', 'c++23'],
  },
  {
    id: 'cpp-ranges-408',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'views::chunk (C++23)',
    text: 'Split range into fixed-size chunks',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5, 6};',
    expected: 'view of {{1,2}, {3,4}, {5,6}}',
    sample: 'auto chunks = nums | std::views::chunk(2);',
    hints: ['chunk divides range into subranges of n elements (C++23)'],
    tags: ['ranges', 'views', 'chunk', 'c++23'],
  },
  {
    id: 'cpp-ranges-409',
    category: 'Ranges',
    difficulty: 'hard',
    title: 'views::slide (C++23)',
    text: 'Create a sliding window view',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'view of {{1,2,3}, {2,3,4}, {3,4,5}}',
    sample: 'auto windows = nums | std::views::slide(3);',
    hints: ['slide creates overlapping windows of n elements (C++23)'],
    tags: ['ranges', 'views', 'slide', 'c++23'],
  },
  {
    id: 'cpp-ranges-410',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'views::repeat (C++23)',
    text: 'Create an infinite repeating view',
    setup: '',
    setupCode: '',
    expected: 'infinite view of 42s',
    sample: 'auto infinite = std::views::repeat(42);',
    hints: ['repeat creates infinite range of same value (C++23)'],
    tags: ['ranges', 'views', 'repeat', 'c++23'],
  },
  {
    id: 'cpp-ranges-411',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'views::cartesian_product (C++23)',
    text: 'Create cartesian product of multiple ranges',
    setup: "std::vector<int> a = {1, 2};\nstd::vector<char> b = {'x', 'y'};",
    setupCode: "std::vector<int> a = {1, 2};\nstd::vector<char> b = {'x', 'y'};",
    expected: '(1,x), (1,y), (2,x), (2,y)',
    sample: 'auto product = std::views::cartesian_product(a, b);',
    hints: ['cartesian_product generates all combinations (C++23)'],
    tags: ['ranges', 'views', 'cartesian_product', 'c++23'],
  },
  {
    id: 'cpp-ranges-412',
    category: 'Ranges',
    difficulty: 'medium',
    title: 'ranges::to (C++23)',
    text: 'Convert a view to a container',
    setup: 'auto view = std::views::iota(1, 6);',
    setupCode: 'auto view = std::views::iota(1, 6);',
    expected: 'vector {1, 2, 3, 4, 5}',
    sample: 'auto vec = view | std::ranges::to<std::vector>();',
    hints: ['ranges::to materializes a view into a container (C++23)'],
    tags: ['ranges', 'to', 'c++23'],
  },

  // ============================================================
  // More String Operations
  // ============================================================
  {
    id: 'cpp-str-413',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String to Integer with Base',
    text: 'Convert a hex string to integer',
    setup: 'std::string hex = "FF";',
    setupCode: 'std::string hex = "FF";',
    expected: '255',
    sample: 'int val = std::stoi(hex, nullptr, 16);',
    hints: ['stoi can parse different bases'],
    tags: ['string', 'stoi', 'hex', 'conversion'],
  },
  {
    id: 'cpp-str-414',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String to Long',
    text: 'Convert a string to long integer',
    setup: 'std::string str = "9999999999";',
    setupCode: 'std::string str = "9999999999";',
    expected: '9999999999L',
    sample: 'long val = std::stol(str);',
    hints: ['stol handles larger values than stoi'],
    tags: ['string', 'stol', 'conversion'],
  },
  {
    id: 'cpp-str-415',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'String to Double',
    text: 'Convert a string to double',
    setup: 'std::string str = "3.14159";',
    setupCode: 'std::string str = "3.14159";',
    expected: '3.14159',
    sample: 'double val = std::stod(str);',
    hints: ['stod parses floating-point numbers'],
    tags: ['string', 'stod', 'conversion'],
  },
  {
    id: 'cpp-str-416',
    category: 'String Methods',
    difficulty: 'easy',
    title: 'Integer to String',
    text: 'Convert an integer to string',
    setup: 'int num = 42;',
    setupCode: 'int num = 42;',
    expected: '"42"',
    sample: 'std::string s = std::to_string(num);',
    hints: ['to_string converts numeric types to strings'],
    tags: ['string', 'to_string', 'conversion'],
  },
  {
    id: 'cpp-str-417',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'from_chars (C++17)',
    text: 'Parse integer from char sequence efficiently',
    setup: 'std::string_view str = "12345";',
    setupCode: 'std::string_view str = "12345";',
    expected: '12345',
    sample: 'int value;\nstd::from_chars(str.data(), str.data() + str.size(), value);',
    hints: ['from_chars is faster than stoi, no exceptions'],
    tags: ['string', 'from_chars', 'c++17'],
  },
  {
    id: 'cpp-str-418',
    category: 'String Methods',
    difficulty: 'medium',
    title: 'to_chars (C++17)',
    text: 'Write integer to char buffer efficiently',
    setup: 'char buffer[20];',
    setupCode: 'char buffer[20];',
    expected: '"12345" in buffer',
    sample: 'auto [ptr, ec] = std::to_chars(buffer, buffer + 20, 12345);',
    hints: ['to_chars is faster than sprintf, no allocation'],
    tags: ['string', 'to_chars', 'c++17'],
  },

  // ============================================================
  // More Modern C++ Features
  // ============================================================
  {
    id: 'cpp-modern-419',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Structured Bindings',
    text: 'Unpack a pair using structured bindings',
    setup: 'std::pair<int, std::string> p = {42, "hello"};',
    setupCode: 'std::pair<int, std::string> p = {42, "hello"};',
    expected: 'num = 42, str = "hello"',
    sample: 'auto [num, str] = p;',
    hints: ['Structured bindings decompose aggregates (C++17)'],
    tags: ['structured_bindings', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-420',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Structured Bindings with Map',
    text: 'Iterate over map with structured bindings',
    setup: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}};',
    setupCode: 'std::map<std::string, int> m = {{"a", 1}, {"b", 2}};',
    expected: 'key-value pairs',
    sample: 'for (auto& [key, value] : m) {\n  std::cout << key << ": " << value << "\\n";\n}',
    hints: ['Structured bindings work in range-for loops'],
    tags: ['structured_bindings', 'map', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-421',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'If with Initializer',
    text: 'Use if statement with initializer',
    setup: 'std::map<std::string, int> m = {{"key", 42}};',
    setupCode: 'std::map<std::string, int> m = {{"key", 42}};',
    expected: 'conditional with init',
    sample: 'if (auto it = m.find("key"); it != m.end()) {\n  std::cout << it->second;\n}',
    hints: ['If initializer limits variable scope (C++17)'],
    tags: ['if_initializer', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-422',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Switch with Initializer',
    text: 'Use switch statement with initializer',
    setup: '',
    setupCode: '',
    expected: 'switch with init',
    sample:
      'switch (int x = compute(); x) {\n  case 0: break;\n  case 1: break;\n  default: break;\n}',
    hints: ['Switch initializer works like if initializer (C++17)'],
    tags: ['switch_initializer', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-423',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Inline Variables (C++17)',
    text: 'Define an inline variable in a header',
    setup: '',
    setupCode: '',
    expected: 'inline variable',
    sample: 'inline constexpr int MAX_SIZE = 100;',
    hints: ['Inline variables can be defined in headers (C++17)'],
    tags: ['inline_variable', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-424',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'constexpr if (C++17)',
    text: 'Use constexpr if for compile-time branching',
    setup: '',
    setupCode: '',
    expected: 'compile-time branch',
    sample:
      'template<typename T>\nvoid process(T t) {\n  if constexpr (std::is_integral_v<T>) {\n    // integer path\n  } else {\n    // other path\n  }\n}',
    hints: ['constexpr if evaluates at compile time (C++17)'],
    tags: ['constexpr_if', 'c++17', 'modern'],
  },
  {
    id: 'cpp-modern-425',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Designated Initializers (C++20)',
    text: 'Initialize a struct with designated initializers',
    setup: 'struct Point { int x; int y; int z; };',
    setupCode: 'struct Point { int x; int y; int z; };',
    expected: 'Point with x=1, y=0, z=3',
    sample: 'Point p = {.x = 1, .z = 3};',
    hints: ['Designated initializers name the members (C++20)'],
    tags: ['designated_initializers', 'c++20', 'modern'],
  },
  {
    id: 'cpp-modern-426',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'Three-Way Comparison (C++20)',
    text: 'Use the spaceship operator for comparison',
    setup: '',
    setupCode: '',
    expected: 'ordering result',
    sample: 'auto result = 5 <=> 10;  // std::strong_ordering::less',
    hints: ['<=> returns a comparison category (C++20)'],
    tags: ['spaceship', 'three_way_comparison', 'c++20', 'modern'],
  },
  {
    id: 'cpp-modern-427',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Default Three-Way Comparison',
    text: 'Generate comparison operators automatically',
    setup: '',
    setupCode: '',
    expected: 'all comparison operators',
    sample: 'struct Point {\n  int x, y;\n  auto operator<=>(const Point&) const = default;\n};',
    hints: ['Defaulted <=> generates all comparison operators'],
    tags: ['spaceship', 'default', 'c++20', 'modern'],
  },
  {
    id: 'cpp-modern-428',
    category: 'Modern C++ Features',
    difficulty: 'hard',
    title: 'consteval Functions (C++20)',
    text: 'Create a function that must be evaluated at compile time',
    setup: '',
    setupCode: '',
    expected: 'compile-time only function',
    sample: 'consteval int square(int n) { return n * n; }',
    hints: ['consteval functions must be evaluated at compile time'],
    tags: ['consteval', 'c++20', 'modern'],
  },
  {
    id: 'cpp-modern-429',
    category: 'Modern C++ Features',
    difficulty: 'hard',
    title: 'constinit Variables (C++20)',
    text: 'Ensure a variable is initialized at compile time',
    setup: '',
    setupCode: '',
    expected: 'compile-time initialized global',
    sample: 'constinit int global_value = 42;',
    hints: ['constinit prevents dynamic initialization order issues'],
    tags: ['constinit', 'c++20', 'modern'],
  },
  {
    id: 'cpp-modern-430',
    category: 'Modern C++ Features',
    difficulty: 'medium',
    title: 'Lambda in Unevaluated Context (C++20)',
    text: 'Use a lambda in decltype',
    setup: '',
    setupCode: '',
    expected: 'lambda type deduction',
    sample: 'using FuncType = decltype([](int x) { return x * 2; });',
    hints: ['Lambdas can appear in unevaluated contexts (C++20)'],
    tags: ['lambda', 'unevaluated', 'c++20', 'modern'],
  },

  // ============================================================
  // More Vector Operations
  // ============================================================
  {
    id: 'cpp-vector-431',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Vector Data Pointer',
    text: 'Get a pointer to the underlying array using data()',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: 'pointer to first element',
    sample: 'int* ptr = nums.data();',
    hints: ['data() returns pointer to contiguous storage'],
    tags: ['vector', 'data', 'stl'],
  },
  {
    id: 'cpp-vector-432',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Vector Emplace',
    text: 'Construct element in-place at a position using emplace()',
    setup: 'std::vector<std::pair<int, std::string>> vec;',
    setupCode: 'std::vector<std::pair<int, std::string>> vec;',
    expected: 'pair constructed in-place',
    sample: 'vec.emplace(vec.begin(), 1, "one");',
    hints: ['emplace constructs element in-place at position'],
    tags: ['vector', 'emplace', 'stl'],
  },
  {
    id: 'cpp-vector-433',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Vector Assign from Iterators',
    text: 'Replace vector contents from iterator range',
    setup: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest;',
    setupCode: 'std::vector<int> src = {1, 2, 3, 4, 5};\nstd::vector<int> dest;',
    expected: 'dest = {2, 3, 4}',
    sample: 'dest.assign(src.begin() + 1, src.begin() + 4);',
    hints: ['assign replaces contents with range'],
    tags: ['vector', 'assign', 'stl'],
  },
  {
    id: 'cpp-vector-434',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Erase Range from Vector',
    text: 'Erase a range of elements from the vector',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '{1, 5}',
    sample: 'nums.erase(nums.begin() + 1, nums.begin() + 4);',
    hints: ['erase with two iterators removes a range'],
    tags: ['vector', 'erase', 'range', 'stl'],
  },
  {
    id: 'cpp-vector-435',
    category: 'Vector Methods',
    difficulty: 'medium',
    title: 'Insert Multiple Elements',
    text: 'Insert multiple copies of an element',
    setup: 'std::vector<int> nums = {1, 5};',
    setupCode: 'std::vector<int> nums = {1, 5};',
    expected: '{1, 0, 0, 0, 5}',
    sample: 'nums.insert(nums.begin() + 1, 3, 0);',
    hints: ['insert can take count and value'],
    tags: ['vector', 'insert', 'stl'],
  },

  // ============================================================
  // More Numeric Operations
  // ============================================================
  {
    id: 'cpp-numeric-436',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Inner Product',
    text: 'Calculate the inner product of two vectors',
    setup: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {4, 5, 6};',
    setupCode: 'std::vector<int> a = {1, 2, 3};\nstd::vector<int> b = {4, 5, 6};',
    expected: '32 (1*4 + 2*5 + 3*6)',
    sample: 'int result = std::inner_product(a.begin(), a.end(), b.begin(), 0);',
    hints: ['inner_product computes dot product'],
    tags: ['numeric', 'inner_product', 'stl'],
  },
  {
    id: 'cpp-numeric-437',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Partial Sum',
    text: 'Calculate running totals using partial_sum',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    expected: '{1, 3, 6, 10, 15}',
    sample: 'std::partial_sum(nums.begin(), nums.end(), result.begin());',
    hints: ['partial_sum computes cumulative sum'],
    tags: ['numeric', 'partial_sum', 'stl'],
  },
  {
    id: 'cpp-numeric-438',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Adjacent Difference',
    text: 'Calculate differences between consecutive elements',
    setup: 'std::vector<int> nums = {1, 3, 6, 10, 15};\nstd::vector<int> result(5);',
    setupCode: 'std::vector<int> nums = {1, 3, 6, 10, 15};\nstd::vector<int> result(5);',
    expected: '{1, 2, 3, 4, 5}',
    sample: 'std::adjacent_difference(nums.begin(), nums.end(), result.begin());',
    hints: ['adjacent_difference computes consecutive differences'],
    tags: ['numeric', 'adjacent_difference', 'stl'],
  },
  {
    id: 'cpp-numeric-439',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Reduce (C++17)',
    text: 'Reduce elements with parallel-friendly operation',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '15',
    sample: 'int sum = std::reduce(nums.begin(), nums.end());',
    hints: ['reduce is like accumulate but allows parallel execution'],
    tags: ['numeric', 'reduce', 'c++17', 'stl'],
  },
  {
    id: 'cpp-numeric-440',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Transform Reduce (C++17)',
    text: 'Transform and reduce in one operation',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};',
    expected: '55 (sum of squares)',
    sample:
      'int sum_of_squares = std::transform_reduce(nums.begin(), nums.end(), 0, std::plus<>(), [](int x) { return x * x; });',
    hints: ['transform_reduce combines transformation and reduction'],
    tags: ['numeric', 'transform_reduce', 'c++17', 'stl'],
  },
  {
    id: 'cpp-numeric-441',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Inclusive Scan (C++17)',
    text: 'Compute inclusive prefix sums',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    expected: '{1, 3, 6, 10, 15}',
    sample: 'std::inclusive_scan(nums.begin(), nums.end(), result.begin());',
    hints: ['inclusive_scan includes current element in sum'],
    tags: ['numeric', 'inclusive_scan', 'c++17', 'stl'],
  },
  {
    id: 'cpp-numeric-442',
    category: 'Algorithm Library',
    difficulty: 'hard',
    title: 'Exclusive Scan (C++17)',
    text: 'Compute exclusive prefix sums',
    setup: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    setupCode: 'std::vector<int> nums = {1, 2, 3, 4, 5};\nstd::vector<int> result(5);',
    expected: '{0, 1, 3, 6, 10}',
    sample: 'std::exclusive_scan(nums.begin(), nums.end(), result.begin(), 0);',
    hints: ['exclusive_scan excludes current element from sum'],
    tags: ['numeric', 'exclusive_scan', 'c++17', 'stl'],
  },
  {
    id: 'cpp-numeric-443',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'GCD (C++17)',
    text: 'Calculate greatest common divisor',
    setup: '',
    setupCode: '',
    expected: '6',
    sample: 'int result = std::gcd(18, 24);',
    hints: ['gcd computes greatest common divisor (C++17)'],
    tags: ['numeric', 'gcd', 'c++17'],
  },
  {
    id: 'cpp-numeric-444',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'LCM (C++17)',
    text: 'Calculate least common multiple',
    setup: '',
    setupCode: '',
    expected: '12',
    sample: 'int result = std::lcm(4, 6);',
    hints: ['lcm computes least common multiple (C++17)'],
    tags: ['numeric', 'lcm', 'c++17'],
  },
  {
    id: 'cpp-numeric-445',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Midpoint (C++20)',
    text: 'Calculate midpoint without overflow',
    setup: '',
    setupCode: '',
    expected: '3',
    sample: 'int mid = std::midpoint(1, 5);',
    hints: ['midpoint handles overflow correctly (C++20)'],
    tags: ['numeric', 'midpoint', 'c++20'],
  },
  {
    id: 'cpp-numeric-446',
    category: 'Algorithm Library',
    difficulty: 'medium',
    title: 'Lerp (C++20)',
    text: 'Linear interpolation between two values',
    setup: '',
    setupCode: '',
    expected: '3.0',
    sample: 'double result = std::lerp(1.0, 5.0, 0.5);',
    hints: ['lerp performs linear interpolation (C++20)'],
    tags: ['numeric', 'lerp', 'c++20'],
  },

  // ============================================================
  // Utility Functions
  // ============================================================
  {
    id: 'cpp-util-447',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'std::exchange',
    text: 'Replace a value and return the old one',
    setup: 'int x = 10;',
    setupCode: 'int x = 10;',
    expected: 'old = 10, x = 20',
    sample: 'int old = std::exchange(x, 20);',
    hints: ['exchange atomically replaces and returns old value'],
    tags: ['utility', 'exchange', 'c++14'],
  },
  {
    id: 'cpp-util-448',
    category: 'Modern C++ Features',
    difficulty: 'easy',
    title: 'std::swap',
    text: 'Swap two values',
    setup: 'int a = 1, b = 2;',
    setupCode: 'int a = 1, b = 2;',
    expected: 'a = 2, b = 1',
    sample: 'std::swap(a, b);',
    hints: ['swap exchanges two values'],
    tags: ['utility', 'swap'],
  },
];

export default cppProblems;
